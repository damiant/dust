import{N as W,a as F,ja as K,t as L}from"./chunk-LIWDDRYP.js";import{K as V,d as B}from"./chunk-5GFD3MFK.js";import{$ as E,Aa as p,Ca as c,Db as N,Fa as T,Ga as O,H as l,Ha as k,Mc as A,Nc as z,P as h,Ua as r,Wa as x,_ as b,aa as w,ba as C,ca as o,cc as P,da as m,ea as y,ja as M,la as d,na as _,p as v,s as g,t as u,tb as I,uc as S,wb as D}from"./chunk-FDEJMFAU.js";function $(f,e){if(f&1){let n=M();o(0,"ion-button",5),d("click",function(){let a=g(n).$implicit,t=_();return u(t.copy(a))}),p(1),o(2,"div",6),d("click",function(){let a=g(n).$implicit,t=_();return u(t.remove(a))}),y(3,"ion-icon",7),m()()}if(f&2){let n=e.$implicit;l(),c("",n," ")}}var s=class s{constructor(){this.isAdmin=r(!1);this.isOwner=r(!1);this.label=r("Owner");this.api=v(V);this.placeholder=r("Email address of owner");this.emails=x("");this.newEmail="";this._emails=["damian@dust.events"];this.helperText=r("The owner can login and alter details.");K({add:F,close:L,informationCircleOutline:W})}remove(e){this._emails=this._emails.filter(n=>n!==e),this.update()}onKeyUp(e){e.key===" "&&this.addEmail(),e.key===","&&this.addEmail()}copy(e){navigator.clipboard.writeText(e),this.api.sendMessage(`Copied ${e} to the clipboard`,1)}addEmail(){B(this.cleanEmail(this.newEmail.trim()))&&(this._emails.push(this.cleanEmail(this.newEmail.trim())),this.update(),this.newEmail="")}cleanEmail(e){return e.trim().toLowerCase().replace(",","")}onWillDismiss(e){e.detail.role==="confirm"&&console.log(`Hello, ${e.detail.data}!`)}update(){this.emails.set(this._emails.join(","))}ngOnInit(){this._emails=this.emails()?this.emails().split(","):[],this.newEmail=""}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=h({type:s,selectors:[["app-emails"]],inputs:{isAdmin:[1,"isAdmin"],isOwner:[1,"isOwner"],label:[1,"label"],placeholder:[1,"placeholder"],emails:[1,"emails"],helperText:[1,"helperText"]},outputs:{emails:"emailsChange"},decls:8,vars:5,consts:[["id","emailLabel"],[1,"row"],["size","small","color","medium","mode","ios","shape","round",1,"email"],["helperText","",3,"ionBlur","keyup.Tab","keyup","ngModelChange","disabled","readonly","ngModel"],[1,"helper","helper2"],["size","small","color","medium","mode","ios","shape","round",1,"email",3,"click"],[3,"click"],["slot","end","name","close"]],template:function(n,i){n&1&&(o(0,"ion-label",0),p(1),m(),o(2,"div",1),E(3,$,4,1,"ion-button",2,b),o(5,"ion-input",3),d("ionBlur",function(){return i.addEmail()})("keyup.Tab",function(){return i.addEmail()})("keyup",function(t){return i.onKeyUp(t)}),k("ngModelChange",function(t){return O(i.newEmail,t)||(i.newEmail=t),t}),m()(),o(6,"div",4),p(7),m()),n&2&&(l(),c("",i.label(),`
`),l(2),w(i._emails),l(2),C("disabled",!i.isAdmin&&!i.isOwner)("readonly",!i.isAdmin&&!i.isOwner),T("ngModel",i.newEmail),l(2),c(" ",i.helperText(),`
`))},dependencies:[z,N,I,D,P,A,S],styles:[".row[_ngcontent-%COMP%]{display:flex;background-color:#0000000d;border-radius:var(--br-xl);margin-left:var(--spacing-lg);align-self:center;flex-wrap:wrap}.button[_ngcontent-%COMP%]{height:40px;align-self:flex-end;margin-bottom:var(--spacing-base);margin-top:var(--spacing-base)}ion-button[_ngcontent-%COMP%]{--padding-start: var(--spacing-lg);--padding-end: var(--spacing-lg)}.helper2[_ngcontent-%COMP%]{padding-left:var(--spacing-2xl);font-size:var(--font-size-xl)}ion-icon[_ngcontent-%COMP%]{background-color:var(--ion-color-light);color:var(--ion-color-medium);border-radius:var(--br-3xl);margin-left:var(--spacing-xs);margin-right:0;padding-right:0;font-size:var(--font-size-base)}ion-label[_ngcontent-%COMP%]{margin-left:var(--spacing-lg);margin-top:var(--spacing-lg)}ion-input[_ngcontent-%COMP%]{--input-background: rgba(0, 0, 0, 0);padding-top:0!important;margin-top:calc(-1 * var(--spacing-md))!important}"]});var U=s;export{U as a};
