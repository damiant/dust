import{k as h,n as F,r as L}from"./chunk-KCTXO3XO.js";import{$ as x,A as C,Aa as p,B as _,Ba as u,F as c,Fa as v,Ga as f,Ha as D,Lb as V,S as a,Ta as k,X as M,Yb as W,cc as z,da as o,dc as R,ha as w,ia as b,ja as O,jc as B,ka as l,la as r,lb as I,ma as P,mb as S,oa as T,pa as y,qa as g,rb as E,sc as N,zc as A}from"./chunk-PNZTRGP7.js";function q(m,n){if(m&1){let e=T();l(0,"ion-datetime",9),D("ngModelChange",function(i){C(e);let s=g();return f(s.startTime,i)||(s.startTime=i),_(i)}),y("ionChange",function(){C(e);let i=g();return _(i.startChange())}),r()}if(m&2){let e=g();o("min",e.minTime)("max",e.maxTime)("showDefaultButtons",!0),v("ngModel",e.startTime),o("id","datetime"+e.id)}}function G(m,n){if(m&1&&(l(0,"ion-select-option",8),p(1),r()),m&2){let e=n.$implicit;o("value",e.value),a(),u(e.title)}}var d=class d{constructor(){this.id="";this.minTime="";this.maxTime="";this.startTime="";this.endTime="";this.size="";this.label="When";this.allDay=!1;this.allDayChanged=new c;this.occurrenceChange=new c;this.startChanged=new c;this.endChanged=new c;this.day="";this.eventDuration=0;this.durations=[{title:"1 hour",value:60},{title:"15 mins",value:15},{title:"30 mins",value:30},{title:"45 mins",value:45},{title:"1.5 hours",value:90},{title:"2 hours",value:120},{title:"2.5 hours",value:150},{title:"3 hours",value:180},{title:"4 hours",value:240},{title:"5 hours",value:300},{title:"6 hours",value:360},{title:"All Day",value:1440}]}allDayChange(){console.log("all day changed",this.allDay),this.allDayChanged.emit(this.allDay)}ngAfterViewInit(){this.startTime.endsWith("00:00:00")&&this.endTime.endsWith("23:59:59")&&(this.allDay=!0);let n=h(this.startTime),e=h(this.endTime);this.eventDuration=Math.abs(e-n)/6e4,this.eventDuration>1439&&(this.eventDuration=1440),this.durations.find(i=>i.value===this.eventDuration)||this.durations.push({title:`${this.eventDuration} mins`,value:this.eventDuration}),this.setDay()}startChange(){this.startChanged.emit(this.startTime),this.setDuration(),this.setDay()}endChange(){this.endChanged.emit(this.endTime)}setDuration(){if(console.log(this.eventDuration),console.log(this.startTime),this.eventDuration===1440){this.allDay=!0,this.allDayChanged.emit(this.allDay);return}else this.allDay=!1;this.endTime=F(h(this.startTime),this.eventDuration).toISOString(),this.endChanged.emit(this.endTime),this.setDay()}setDay(){let n=new Date(this.startTime);console.log("day",n),this.day=L[n.getDay()]}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=M({type:d,selectors:[["app-date-range"]],inputs:{id:"id",minTime:"minTime",maxTime:"maxTime",startTime:"startTime",endTime:"endTime",size:"size",label:"label",allDay:"allDay"},outputs:{allDayChanged:"allDayChanged",occurrenceChange:"occurrenceChange",startChanged:"startChanged",endChanged:"endChanged"},decls:13,vars:7,consts:[[1,"l2"],[1,"vertical",3,"ngClass"],["lines","none"],[1,"day"],[3,"datetime"],[3,"keepContentsMounted"],["lines","none",1,"duration"],["labelPlacement","floating","interface","popover","placeholder","Duration",1,"app-select-small",3,"ionChange","ngModelChange","value","ngModel"],[3,"value"],["minuteValues","0,15,30,45",3,"ngModelChange","ionChange","min","max","showDefaultButtons","ngModel","id"]],template:function(e,t){e&1&&(l(0,"ion-label",0),p(1),r(),l(2,"div",1)(3,"ion-item",2)(4,"ion-label",3),p(5),r(),P(6,"ion-datetime-button",4),r(),l(7,"ion-modal",5),x(8,q,1,5,"ng-template"),r(),l(9,"ion-item",6)(10,"ion-select",7),y("ionChange",function(){return t.setDuration()}),D("ngModelChange",function(s){return f(t.eventDuration,s)||(t.eventDuration=s),s}),b(11,G,2,2,"ion-select-option",8,w),r()()()),e&2&&(a(),u(t.label),a(),o("ngClass",t.size),a(3),u(t.day),a(),o("datetime","datetime"+t.id),a(),o("keepContentsMounted",!0),a(3),o("value",t.eventDuration),v("ngModel",t.eventDuration),a(),O(t.durations))},dependencies:[V,W,E,I,S,R,k,z,N,A,B],styles:['.vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;justify-content:center}ion-label.lbl[_ngcontent-%COMP%]{min-width:50px;text-align:right;padding-right:5px}ion-label.l2[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-dark)}ion-label.day[_ngcontent-%COMP%]{min-width:50px;padding-right:5px;font-size:13px}.duration[_ngcontent-%COMP%]{margin-top:-6px}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}.day[_ngcontent-%COMP%]{opacity:.5;text-align:right}ion-datetime-button[_ngcontent-%COMP%]{justify-content:left}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:#eee;border-radius:2px}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#999}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:5px;top:3px;width:4px;height:8px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:25px;margin-right:15px;margin-bottom:8px!important;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:13px;min-width:70px}ion-datetime-button[_ngcontent-%COMP%]::part(native){margin-top:0;margin-bottom:5px;padding-top:8px;padding-bottom:8px}@media (min-width: 390px){ion-datetime-button[_ngcontent-%COMP%]::part(native){min-width:120px}}@media (min-width: 640px){.vertical[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 800px){.wide[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{min-width:205px}.wide[_ngcontent-%COMP%]   ion-label.lbl[_ngcontent-%COMP%]{min-width:unset}.wide[_ngcontent-%COMP%]   ion-label.day[_ngcontent-%COMP%]{min-width:unset;padding-right:5px}.wide[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]::part(native){min-width:unset}}']});var j=d;export{j as a};
