import{a as I}from"./chunk-5B2MUMUK.js";import{K as v,f as h,g}from"./chunk-OQVFSD37.js";import"./chunk-PFLI22GG.js";import{Db as f,P as a,ba as p,ca as d,da as l,ea as m,lc as u,p as c}from"./chunk-FDEJMFAU.js";import"./chunk-JORYF43P.js";import"./chunk-7KGURMOZ.js";import"./chunk-UT2PGJWE.js";import"./chunk-6Y2ASLSF.js";import"./chunk-XRJ4SE6F.js";import"./chunk-LIBYTRNP.js";import"./chunk-3MK77LPM.js";import"./chunk-4U6PRYVA.js";import"./chunk-CZ4AHVKD.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-LLZYEWEK.js";import"./chunk-Z2GS73PT.js";import"./chunk-LF5XB4YN.js";import{h as s}from"./chunk-LNJ3S2LQ.js";var t=class t{constructor(){this.api=c(v)}ngOnInit(){return s(this,null,function*(){if(this.id){let n=function(){document.location.href=o?`https://${o}.dust.events`:e};var r=n;let e=this.api.isLocal()||this.api.isStaging()||this.api.isInIframe()?`${document.location.protocol}//${document.location.hostname}:${document.location.port}/all`:"https://edit.dust.events/all",o=h(document.location.href,"burn");try{this.id.includes("?")&&(this.id=this.id.split("?")[0]),yield g(1e3),this.api.signedIn()&&n();let i=yield this.api.getRedirect(this.id);i?(console.log("getRedirect",i),document.location.href=`${i}`):n()}catch(i){console.error("Redirect failure",i),n()}}})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a({type:t,selectors:[["app-redirect"]],inputs:{id:"id"},decls:2,vars:1,consts:[[3,"fullscreen"]],template:function(e,o){e&1&&(d(0,"ion-content",0),m(1,"app-spinner"),l()),e&2&&p("fullscreen",!0)},dependencies:[u,f,I],encapsulation:2});var y=t;export{y as RedirectPage};
