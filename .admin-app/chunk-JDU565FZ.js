import{a as I}from"./chunk-TRRH6YG6.js";import{H as y,f as g,g as v}from"./chunk-5TGYAYRP.js";import"./chunk-XMQYHBKU.js";import{$ as p,L as a,Va as f,_b as h,aa as d,ba as l,ca as m,p as c,sb as u}from"./chunk-LVKFIXIJ.js";import"./chunk-JORYF43P.js";import"./chunk-7KGURMOZ.js";import"./chunk-R7LHOHUY.js";import"./chunk-HUOLUIW7.js";import"./chunk-CCK7OWI7.js";import"./chunk-LIBYTRNP.js";import"./chunk-3MK77LPM.js";import"./chunk-4U6PRYVA.js";import"./chunk-CZ4AHVKD.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{h as s}from"./chunk-LNJ3S2LQ.js";var t=class t{constructor(){this.api=c(y)}ngOnInit(){return s(this,null,function*(){if(this.id){let n=function(){document.location.href=o?`https://${o}.dust.events`:e};var r=n;let e=this.api.isLocal()?`${document.location.protocol}//${document.location.hostname}:${document.location.port}/all`:"https://edit.dust.events/all",o=g(document.location.href,"burn");try{this.id.includes("?")&&(this.id=this.id.split("?")[0]),yield v(1e3),this.api.signedIn()&&n();let i=yield this.api.getRedirect(this.id);i?(console.log("getRedirect",i),document.location.href=`${i}`):n()}catch(i){console.error("Redirect failure",i),n()}}})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a({type:t,selectors:[["app-redirect"]],inputs:{id:"id"},decls:2,vars:1,consts:[[3,"fullscreen"]],template:function(e,o){e&1&&(d(0,"ion-content",0),m(1,"app-spinner"),l()),e&2&&p("fullscreen",!0)},dependencies:[h,f,u,I],encapsulation:2});var C=t;export{C as RedirectPage};
