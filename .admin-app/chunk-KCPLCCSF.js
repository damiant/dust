function h(a,{quality:s,width:n,height:o}={},r=void 0){return new Promise((c,d)=>{let t=document.createElement("canvas"),m=t.getContext("2d");m.imageSmoothingEnabled=!0,m.imageSmoothingQuality="high";let e=new Image;e.src=a,e.crossOrigin="anonymous",e.onload=i=>{t.width=n||e.width,!o&&n&&(o=e.height/(e.width/n)),r&&(r.width=e.width,r.height=e.height),t.height=o||e.height,URL.revokeObjectURL(i.target.src),m.drawImage(i.target,0,0,t.width,t.height),t.toBlob(g=>{c(g)},"image/webp",s||.75)},e.onerror=i=>d(i)})}function b(a,{quality:s,width:n,height:o}={},r=void 0){return h(URL.createObjectURL(a),{quality:s,width:n,height:o},r)}export{b as a};
