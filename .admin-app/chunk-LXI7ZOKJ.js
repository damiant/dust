import{a as A}from"./chunk-ZTRHH73F.js";import"./chunk-QTBNLBDF.js";import{a as _e}from"./chunk-SNEDPXUY.js";import"./chunk-4MBMHUBT.js";import{a as ue}from"./chunk-A6LN74YY.js";import"./chunk-LADCEZG6.js";import"./chunk-5W5FH4VE.js";import"./chunk-2RWSG5RW.js";import"./chunk-G3CKXV7X.js";import"./chunk-5FZVM2DH.js";import"./chunk-HC6MZPB3.js";import"./chunk-YMI2B6JE.js";import"./chunk-4JPLRTL2.js";import"./chunk-NPRM7GGH.js";import"./chunk-52VTL4OE.js";import"./chunk-VBU7NMPV.js";import"./chunk-2EOHHFOF.js";import"./chunk-JXIEZMHN.js";import"./chunk-3GGVU3XB.js";import"./chunk-MCRJI3T3.js";import"./chunk-5ZNPFCKO.js";import"./chunk-46PQVYTJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-3573TPBU.js";import{M as fe,S as he,a as ge}from"./chunk-SZWMGHJI.js";import{D as T}from"./chunk-3FSCB2FX.js";import"./chunk-MIGJGGKJ.js";import{A as c,B as g,Cc as ce,Da as r,Ea as h,Fa as E,I as z,Ia as v,Ja as y,Ka as w,Nb as ne,P as M,S as l,Sa as q,Sb as ae,T as U,Ta as Y,Tb as oe,Wa as J,X as V,Y as P,_a as K,_b as re,aa as x,ea as f,ec as le,ha as _,ia as H,ja as I,jb as $,ka as b,la as n,ma as a,mc as se,na as u,ob as ee,pa as B,pb as te,pc as me,qa as S,qc as pe,ra as d,ub as ie,uc as de,w as O,xa as Z,ya as Q,za as X}from"./chunk-JQETABDO.js";import"./chunk-35XJAIHY.js";import"./chunk-7KGURMOZ.js";import"./chunk-2BF6BOWA.js";import"./chunk-OA2QWUMP.js";import"./chunk-3J2H4E5C.js";import"./chunk-KBMMZLX2.js";import"./chunk-5J6JP6Q2.js";import"./chunk-4U6PRYVA.js";import"./chunk-HJX2WMCX.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{h as C}from"./chunk-LNJ3S2LQ.js";function ve(o,i){return`
<style>
@font-face {
    font-family: 'Gelion Regular';
    font-style: normal;
    font-weight: normal;
    src: local('Gelion Regular'), url('/assets/fonts/gelion-regular.woff') format('woff');
}
@font-face {
    font-family: 'Grotesk Bold';
    font-style: normal;
    font-weight: normal;
    src: local('Grotesk Bold'), url('/assets/fonts/grotesk-bold.woff') format('woff');
}

@font-face {
    font-family: 'Nunito';
    font-style: normal;
    font-weight: normal;
    src: local('Nunito'), url('/assets/fonts/nunito-extrabold.woff') format('woff');
}


p, span {
    font-family: 'Gelion Regular';
    margin: 0;
    font-size: 0.8rem;
}

a {
    text-decoration: none;
}

.desc {
    display: ${i>0?"-webkit-box":"none"};
    -webkit-line-clamp: ${i};
    line-clamp: ${i};
    -webkit-box-orient: vertical; 
    overflow: hidden;
    font-size: 0.7rem;
}

.time {
    padding-top: 0rem;    
    font-size: 0.8rem;
}


.event-header {
    display: flex;
    align-items: center;
    padding-bottom: 0.5rem;
}

.camp-header {
    display: flex;    
    width: 100%;
    justify-content: space-between;
    align-items: flex-end;
    padding-bottom: 0.5rem;
}
.title {
    page-break-before: always;
    margin-top: 50px;
}

.break {
      page-break-after: always;
}
.after-break {
    height: 50px;
    border-bottom: 1px solid grey;
}

.camp {
    color: #F61067; 
}

.event {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    page-break-inside: avoid;
}

span {
    margin-top: 1rem;
    font-weight: bold;
}

h1, h2 {
    font-family: 'Nunito';
    margin: 0;
}

header, footer {
    text-align: center;
}

h3 {
    font-family: 'Grotesk Bold';    
    font-size: 0.8rem;
    margin: 0;
}

img {
    height: 50px;
    width: 50px;
    object-fit: cover;
    margin-right: 0.5rem;
    border-radius: 0.5rem;
}

img.camp {
    float: left;
}

.container {
   max-width: 1200px;
   margin-left: 0rem;
   margin-right: 0rem;
}

.columns-container {
    columns: ${o>4?"110":"150"}px ${o};
    column-gap: 1.5rem;
    column-rule 1px solid #f1f1f1;
    padding: 1rem;

    > * + * {
        margin-top: 1rem;
    }
}

@page {
    margin-top: 1cm;
    margin-bottom: 1cm;
    @top-center {
        content: element(pageHeader);
    }

    @bottom-center {
        content: element(pageFooter);
    }
}

.page-break {
    page-break-before: always;
}

#pageHeader{
    position: running(pageHeader);
}

#pageFooter{
    position: running(pageFooter);
}
</style>
`}var Ce=(o,i)=>i.id;function xe(o,i){if(o&1&&(n(0,"h2",0),r(1),a()),o&2){let e=d().$implicit;l(),h(e.heading)}}function we(o,i){if(o&1&&u(0,"img",3),o&2){let e=d().$implicit;f("src",e.image,M)}}function Ie(o,i){if(o&1&&(x(0,xe,2,1,"h2",0),n(1,"div",1)(2,"div",2),x(3,we,1,1,"img",3),n(4,"div")(5,"h3"),r(6),a(),n(7,"p",4),r(8),a(),n(9,"a",5)(10,"p",6),r(11),a()()()(),n(12,"p",7),r(13),a()()),o&2){let e=i.$implicit,t=d();_(e.heading?0:-1),l(3),_(e.image&&!t.hideImages()?3:-1),l(3),h(e.title),l(2),E(" ",e.timeString," "),l(),f("href",e.campUrl,M),l(2),h(e.camp),l(2),h(e.description)}}var k=class k{constructor(){this.events=[];this.day=z("day");this.excluded=z("");this.hideImages=V(!1);this.pbOnDay=V(!0);this.inited=!1;this.done=q(()=>console.log(this.hideImages()));this.eventService=O(A);this.api=O(T);Y(()=>{let i=this.excluded();this.ngOnInit()})}ngOnInit(){return C(this,null,function*(){this.inited||(this.inited=!0,this.events=yield this.eventService.getPrintableEvents(this.api.vanity(),yield this.api.events({cached:!0}),this.day(),this.excluded()))})}};k.\u0275fac=function(e){return new(e||k)},k.\u0275cmp=P({type:k,selectors:[["app-print-events"]],inputs:{day:[1,"day"],excluded:[1,"excluded"],hideImages:[1,"hideImages"],pbOnDay:[1,"pbOnDay"]},outputs:{hideImages:"hideImagesChange",pbOnDay:"pbOnDayChange"},decls:2,vars:0,consts:[[1,"title"],[1,"event"],[1,"event-header"],[3,"src"],[1,"time"],[3,"href"],[1,"camp"],[1,"desc"]],template:function(e,t){e&1&&I(0,Ie,14,7,null,null,Ce),e&2&&b(t.events)},encapsulation:2});var L=k;var Pe=(o,i)=>i.id;function Se(o,i){if(o&1&&u(0,"img",2),o&2){let e=d().$implicit;f("src",e.imageUrl,M)}}function Ee(o,i){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),r(3),a()(),n(4,"p"),x(5,Se,1,1,"img",2),r(6),a()()),o&2){let e=i.$implicit,t=d();l(3),h(e.name),l(2),_(e.imageUrl&&!t.hideImages()?5:-1),l(),E(" ",e.description," ")}}var D=class D{constructor(i){this.api=i;this.camps=[];this.hideImages=V(!1)}ngOnInit(){return C(this,null,function*(){this.camps=yield this.api.camps({cached:!1}),this.camps.map(i=>{i.imageUrl&&(i.imageUrl=this.api.imageURL(i.imageUrl))})})}};D.\u0275fac=function(e){return new(e||D)(U(T))},D.\u0275cmp=P({type:D,selectors:[["app-print-camps"]],inputs:{hideImages:[1,"hideImages"]},outputs:{hideImages:"hideImagesChange"},decls:2,vars:0,consts:[[1,"event"],[1,"camp-header"],[1,"camp",3,"src"]],template:function(e,t){e&1&&I(0,Ee,7,3,"div",0,Pe),e&2&&b(t.camps)},encapsulation:2});var N=D;var Te=(o,i)=>i.id;function Me(o,i){if(o&1&&u(0,"img",2),o&2){let e=d().$implicit;f("src",e.imageUrl,M)}}function Ve(o,i){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),r(3),a()(),n(4,"p"),x(5,Me,1,1,"img",2),r(6),a()()),o&2){let e=i.$implicit,t=d();l(3),h(e.name),l(2),_(e.imageUrl&&!t.hideImages()?5:-1),l(),E(" ",e.description," ")}}var F=class F{constructor(i){this.api=i;this.art=[];this.hideImages=V(!1)}ngOnInit(){return C(this,null,function*(){this.art=yield this.api.art({cached:!1}),this.art.map(i=>{i.imageUrl&&(i.imageUrl=this.api.imageURL(i.imageUrl))})})}};F.\u0275fac=function(e){return new(e||F)(U(T))},F.\u0275cmp=P({type:F,selectors:[["app-print-art"]],inputs:{hideImages:[1,"hideImages"]},outputs:{hideImages:"hideImagesChange"},decls:2,vars:0,consts:[[1,"event"],[1,"camp-header"],[1,"camp",3,"src"]],template:function(e,t){e&1&&I(0,Ve,7,3,"div",0,Te),e&2&&b(t.art)},encapsulation:2});var R=F;var Oe=["frame"];function ke(o,i){if(o&1&&(n(0,"ion-select-option",23),r(1),a()),o&2){let e=i.$implicit;f("value",e),l(),h(e)}}function De(o,i){o&1&&u(0,"app-spinner")}function Fe(o,i){if(o&1){let e=B();n(0,"header",28)(1,"h1"),r(2),a(),n(3,"h2"),r(4),a()(),n(5,"div",29)(6,"div",30)(7,"app-print-events",31),w("pbOnDayChange",function(s){c(e);let m=d(2);return y(m.pbOnDay,s)||(m.pbOnDay=s),g(s)})("hideImagesChange",function(s){c(e);let m=d(2);return y(m.hideImages,s)||(m.hideImages=s),g(s)}),a()()()}if(o&2){let e=i.$implicit,t=d(2);f("ngClass",t.pbOnDay?"page-break":""),l(2),h(t.title),l(2),E("",e," Events"),l(3),v("pbOnDay",t.pbOnDay),f("excluded",t.excluded),v("hideImages",t.hideImages),f("day",e)}}function We(o,i){if(o&1&&I(0,Fe,8,7,null,null,H),o&2){let e=d();b(e.days)}}function Be(o,i){if(o&1){let e=B();n(0,"header",32)(1,"h1"),r(2),a(),n(3,"h2"),r(4,"Theme Camps"),a()(),n(5,"div",29)(6,"div",30)(7,"app-print-camps",33),w("hideImagesChange",function(s){c(e);let m=d();return y(m.hideImages,s)||(m.hideImages=s),g(s)}),a()()()}if(o&2){let e=d();l(2),h(e.title),l(5),v("hideImages",e.hideImages)}}function Ue(o,i){if(o&1){let e=B();n(0,"header",32)(1,"h1"),r(2),a(),n(3,"h2"),r(4,"Art"),a()(),n(5,"div",29)(6,"div",30)(7,"app-print-art",33),w("hideImagesChange",function(s){c(e);let m=d();return y(m.hideImages,s)||(m.hideImages=s),g(s)}),a()()()}if(o&2){let e=d();l(2),h(e.title),l(5),v("hideImages",e.hideImages)}}var W=class W{constructor(){this.title="";this.busy=!0;this.diffTimeZone="";this.showing="all";this.imageUrl="";this.pbOnDay=!0;this.hideImages=!1;this.filter="all";this.excludedTypes=[];this.excluded="";this.eventTypes=[];this.columns="3";this.lines="6";this.days=[];this.eventService=O(A);this.api=O(T);he({add:ge,printOutline:fe})}ngOnInit(){return C(this,null,function*(){var e;this.title=this.api.festivalTitle(),this.diffTimeZone=this.api.currentTimeZone()==this.api.festivalTimeZone()?"":this.api.festivalTimeZone(),yield this.api.setFestivalByVanity(this.vanity),this.imageUrl=(e=this.api.imageURL(this.api.festivalImage()))!=null?e:"";let i=yield this.api.getFestival(this.api.festivalId,{cached:!0});this.eventTypes=i.event_types?i.event_types.split(`
`):_e})}print(){this.iFrame.nativeElement.contentWindow.focus(),this.iFrame.nativeElement.contentWindow.print()}ionViewDidEnter(){return C(this,null,function*(){yield this.refresh(),setTimeout(()=>{this.busy=!1,this.copyToIFrame()},4e3)})}hasEvents(){return this.filter=="all"||this.filter=="events"}hasCamps(){return this.filter=="all"||this.filter=="camps"}hasArt(){return this.filter=="all"||this.filter=="art"}update(){this.excluded=this.excludedTypes.join(","),this.busy=!0,setTimeout(()=>{this.busy=!1,this.copyToIFrame()},4e3)}copyToIFrame(){let i=document.getElementById("page"),e=this.iFrame.nativeElement.contentDocument;e.open(),e.write(ve(parseInt(this.columns),parseInt(this.lines))),e.write(i==null?void 0:i.innerHTML),e.close()}festivalImage(){return this.api.imageURL(this.api.festivalImage())}refresh(){return C(this,null,function*(){this.days=yield this.eventService.getEventDays(this.api.vanity(),yield this.api.events({cached:!1}))})}};W.\u0275fac=function(e){return new(e||W)},W.\u0275cmp=P({type:W,selectors:[["app-print"]],viewQuery:function(e,t){if(e&1&&Z(Oe,5),e&2){let s;Q(s=X())&&(t.iFrame=s.first)}},inputs:{vanity:"vanity"},decls:71,vars:18,consts:[["frame",""],["color","primary"],["slot","start"],["slot","end"],[3,"click"],["labelPlacement","end",3,"ionChange","ngModelChange","ngModel"],[2,"padding","1rem"],["slot","end","label","COLUMNS","aria-label","Columns","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["slot","end","label","MAX LINES","aria-label","Maximum Lines","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","0"],["value","6"],["value","10"],["slot","end","label","FILTER","aria-label","Filter by Type","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","all"],["value","camps"],["value","events"],["value","art"],["label","EXCLUDE TYPES","interface","popover","placeholder","Select event types to exclude",2,"max-width","200px",3,"ionChange","ngModelChange","multiple","value","ngModel"],[3,"value"],[3,"fullscreen"],[3,"scrolling","frameBorder"],["id","page",2,"display","none"],["id","pageFooter"],["id","pageHeader",3,"ngClass"],[1,"container"],[1,"columns-container"],[3,"pbOnDayChange","hideImagesChange","pbOnDay","excluded","hideImages","day"],["id","pageHeader",1,"page-break"],[3,"hideImagesChange","hideImages"]],template:function(e,t){if(e&1){let s=B();n(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2),u(3,"ion-back-button"),a(),n(4,"ion-title"),r(5,"Print Preview"),a(),n(6,"ion-buttons",3)(7,"ion-button",4),S("click",function(){return c(s),g(t.print())}),r(8,"Print"),a()()(),n(9,"ion-toolbar",1)(10,"ion-buttons")(11,"ion-button")(12,"ion-checkbox",5),S("ionChange",function(){return c(s),g(t.update())}),w("ngModelChange",function(p){return c(s),y(t.hideImages,p)||(t.hideImages=p),g(p)}),r(13,"Hide Images"),a()(),u(14,"div",6),n(15,"ion-select",7),S("ionChange",function(){return c(s),g(t.update())}),w("ngModelChange",function(p){return c(s),y(t.columns,p)||(t.columns=p),g(p)}),n(16,"ion-select-option",8),r(17,"1"),a(),n(18,"ion-select-option",9),r(19,"2"),a(),n(20,"ion-select-option",10),r(21,"3"),a(),n(22,"ion-select-option",11),r(23,"4"),a(),n(24,"ion-select-option",12),r(25,"5"),a()(),u(26,"div",6),n(27,"ion-select",13),S("ionChange",function(){return c(s),g(t.update())}),w("ngModelChange",function(p){return c(s),y(t.lines,p)||(t.lines=p),g(p)}),n(28,"ion-select-option",14),r(29,"0"),a(),n(30,"ion-select-option",8),r(31,"1"),a(),n(32,"ion-select-option",9),r(33,"2"),a(),n(34,"ion-select-option",10),r(35,"3"),a(),n(36,"ion-select-option",11),r(37,"4"),a(),n(38,"ion-select-option",12),r(39,"5"),a(),n(40,"ion-select-option",15),r(41,"6"),a(),n(42,"ion-select-option",16),r(43,"10"),a()(),u(44,"div",6),n(45,"ion-select",17),S("ionChange",function(){return c(s),g(t.update())}),w("ngModelChange",function(p){return c(s),y(t.filter,p)||(t.filter=p),g(p)}),n(46,"ion-select-option",18),r(47,"All"),a(),n(48,"ion-select-option",19),r(49,"Camps"),a(),n(50,"ion-select-option",20),r(51,"Events"),a(),n(52,"ion-select-option",21),r(53,"Art"),a()(),u(54,"div",6),n(55,"ion-select",22),S("ionChange",function(){return c(s),g(t.update())}),w("ngModelChange",function(p){return c(s),y(t.excludedTypes,p)||(t.excludedTypes=p),g(p)}),I(56,ke,2,2,"ion-select-option",23,H),a(),n(58,"ion-button")(59,"ion-checkbox",5),S("ionChange",function(){return c(s),g(t.update())}),w("ngModelChange",function(p){return c(s),y(t.pbOnDay,p)||(t.pbOnDay=p),g(p)}),r(60,"Page Break on Day"),a()()()()(),n(61,"ion-content",24),x(62,De,1,0,"app-spinner"),u(63,"iframe",25,0),n(65,"div",26),x(66,We,2,0)(67,Be,8,2)(68,Ue,8,2),n(69,"footer",27),r(70,"-"),a()()()}e&2&&(l(12),v("ngModel",t.hideImages),l(3),v("ngModel",t.columns),f("value",t.columns),l(12),v("ngModel",t.lines),f("value",t.lines),l(18),v("ngModel",t.filter),f("value",t.filter),l(10),f("multiple",!0)("value",t.excludedTypes),v("ngModel",t.excludedTypes),l(),b(t.eventTypes),l(3),v("ngModel",t.pbOnDay),l(2),f("fullscreen",!0),l(),_(t.busy?62:-1),l(),f("scrolling","no")("frameBorder",0),l(3),_(t.hasEvents()?66:-1),l(),_(t.hasCamps()?67:-1),l(),_(t.hasArt()?68:-1))},dependencies:[de,ue,K,J,ie,ee,te,$,le,pe,oe,ne,me,ae,re,L,N,R,ce,se],styles:["iframe[_ngcontent-%COMP%]{height:100%;width:100%}ion-checkbox[_ngcontent-%COMP%]{font-family:Gelion Regular;font-size:medium}ion-select[_ngcontent-%COMP%]{font-size:medium}ion-select[_ngcontent-%COMP%]::part(icon){color:#fff!important}"]});var ye=W;export{ye as PrintPage};
