import{a as I}from"./chunk-WENQGBHZ.js";import{F as y,f as g,g as v}from"./chunk-ZPXCODCV.js";import"./chunk-MIGJGGKJ.js";import{$b as h,Y as a,Za as f,ea as p,la as d,ma as l,na as m,tb as u,w as c}from"./chunk-6CV35SS5.js";import"./chunk-ATW7DGUS.js";import"./chunk-7KGURMOZ.js";import"./chunk-UXWCR2YA.js";import"./chunk-QYFQMV2H.js";import"./chunk-ORVKXEJA.js";import"./chunk-KBMMZLX2.js";import"./chunk-5J6JP6Q2.js";import"./chunk-4U6PRYVA.js";import"./chunk-CZ4AHVKD.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{h as s}from"./chunk-LNJ3S2LQ.js";var t=class t{constructor(){this.api=c(y)}ngOnInit(){return s(this,null,function*(){if(this.id){let n=function(){document.location.href=o?`https://${o}.dust.events`:e};var r=n;let e=this.api.isLocal()?`${document.location.protocol}//${document.location.hostname}:${document.location.port}/all`:"https://edit.dust.events/all",o=g(document.location.href,"burn");try{this.id.includes("?")&&(this.id=this.id.split("?")[0]),yield v(1e3),this.api.signedIn()&&n();let i=yield this.api.getRedirect(this.id);i?(console.log("getRedirect",i),document.location.href=`${i}`):n()}catch(i){console.error("Redirect failure",i),n()}}})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a({type:t,selectors:[["app-redirect"]],inputs:{id:"id"},decls:2,vars:1,consts:[[3,"fullscreen"]],template:function(e,o){e&1&&(d(0,"ion-content",0),m(1,"app-spinner"),l()),e&2&&p("fullscreen",!0)},dependencies:[h,f,u,I],encapsulation:2});var C=t;export{C as RedirectPage};
