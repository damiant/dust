import{c as t}from"./chunk-MIGJGGKJ.js";import{h as i}from"./chunk-LNJ3S2LQ.js";var s=class extends t{constructor(){super(...arguments),this.wakeLock=null,this._isSupported=typeof navigator<"u"&&"wakeLock"in navigator,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.keepAwake()}}keepAwake(){return i(this,null,function*(){this._isSupported||this.throwUnsupportedError(),this.wakeLock&&(yield this.allowSleep()),this.wakeLock=yield navigator.wakeLock.request("screen"),document.addEventListener("visibilitychange",this.handleVisibilityChange),document.addEventListener("fullscreenchange",this.handleVisibilityChange)})}allowSleep(){return i(this,null,function*(){var e;this._isSupported||this.throwUnsupportedError(),(e=this.wakeLock)===null||e===void 0||e.release(),this.wakeLock=null,document.removeEventListener("visibilitychange",this.handleVisibilityChange),document.removeEventListener("fullscreenchange",this.handleVisibilityChange)})}isSupported(){return i(this,null,function*(){return{isSupported:this._isSupported}})}isKeptAwake(){return i(this,null,function*(){return this._isSupported||this.throwUnsupportedError(),{isKeptAwake:!!this.wakeLock}})}throwUnsupportedError(){throw this.unavailable("Screen Wake Lock API not available in this browser.")}};export{s as KeepAwakeWeb};
