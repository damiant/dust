function h(a,{quality:s,width:t,height:o}={},r=void 0){return new Promise((c,d)=>{let n=document.createElement("canvas"),b=n.getContext("2d"),e=new Image;e.src=a,e.crossOrigin="anonymous",e.onload=i=>{n.width=t||e.width,!o&&t&&(o=e.height/(e.width/t)),r&&(r.width=e.width,r.height=e.height),n.height=o||e.height,URL.revokeObjectURL(i.target.src),b.drawImage(i.target,0,0,n.width,n.height),n.toBlob(u=>{c(u)},"image/webp",s||.75)},e.onerror=i=>d(i)})}function g(a,{quality:s,width:t,height:o}={},r=void 0){return h(URL.createObjectURL(a),{quality:s,width:t,height:o},r)}export{g as a};
