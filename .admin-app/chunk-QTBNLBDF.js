function g(l){let c=!1,e=[],t="",s=0,u={},d=!0,i=[];for(let r of l)c?r!=='"'&&(t+=r):r==","?(d?i.push(t):u[i[s]]=t,s++,t=""):r==`
`?(t&&(t=t.trim()),d?(i.push(t),d=!1):(u[i[s]]=t,e.push(u)),t="",u={},s=0):r!=='"'&&(t+=r),r=='"'&&(c=!c);return e}function b(l,c,e){if(!c||!c.length)return;let t=e!=null&&e.stripQuotes?",":'","',s=Object.keys(c[0]),u=e!=null&&e.hideHeaders?"":f(s.join(t),e==null?void 0:e.stripQuotes);for(let r of c)u+=f(s.map(a=>{let n=r[a]===null||r[a]===void 0?"":r[a];return n=n instanceof Date?n.toLocaleString():n.toString(),n=o(n),n=n.replace(/\r/g,"\\r"),n=n.replace(/\n/g,"\\n"),n=n.replace(/"/g,'""'),`${n}`}).join(t),e==null?void 0:e.stripQuotes);let d=new Blob([u],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){let r=URL.createObjectURL(d);i.setAttribute("href",r),i.setAttribute("download",l),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}function o(l){return l?l.replace(/\u00a0/g,""):""}function f(l,c){return c?`${l}
`:`"${l}"
`}export{g as a,b};
