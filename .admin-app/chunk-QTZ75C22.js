import{a as z}from"./chunk-6FMSGD55.js";import"./chunk-YLPHNW7F.js";import{a as xe}from"./chunk-ZOFWWE63.js";import"./chunk-GPVDUW6Q.js";import{a as ye}from"./chunk-5B2MUMUK.js";import"./chunk-OZ2IKH4J.js";import"./chunk-ZHFJF7NS.js";import"./chunk-A5RC3O7B.js";import"./chunk-CVA27SDO.js";import"./chunk-U5OWWBBZ.js";import"./chunk-HC6MZPB3.js";import"./chunk-YMI2B6JE.js";import"./chunk-L4IPHJNS.js";import"./chunk-NPRM7GGH.js";import"./chunk-SFJBRZ2Y.js";import"./chunk-I5V6RRU4.js";import"./chunk-2EOHHFOF.js";import"./chunk-JXIEZMHN.js";import"./chunk-ZMJ3RQA5.js";import"./chunk-MCRJI3T3.js";import"./chunk-QDGYTOUC.js";import"./chunk-VLNXCBKY.js";import"./chunk-MM5QLNJM.js";import"./chunk-3573TPBU.js";import{a as _e,ba as ve,ja as Ce}from"./chunk-LIWDDRYP.js";import{K as V,e as he}from"./chunk-5GFD3MFK.js";import"./chunk-PFLI22GG.js";import{$ as P,Aa as a,Ba as f,Bc as de,Ca as D,Db as oe,E as O,Ec as ce,Fa as C,Fc as ge,Ga as x,H as r,Ha as I,Kc as fe,P as S,Ra as K,Sa as $,Sc as ue,Ua as R,Wa as F,Wb as re,X as h,Y as _,_ as Z,_a as ee,aa as E,ba as y,ca as o,cc as le,da as l,db as te,dc as se,ea as T,fa as u,ga as v,ha as W,ja as A,ka as k,la as M,lc as me,na as d,nb as ie,p as b,ra as q,rc as pe,s as c,sa as Y,t as g,ta as J,tb as ne,wb as ae}from"./chunk-FDEJMFAU.js";import"./chunk-JORYF43P.js";import"./chunk-7KGURMOZ.js";import"./chunk-UT2PGJWE.js";import"./chunk-6Y2ASLSF.js";import"./chunk-XRJ4SE6F.js";import"./chunk-LIBYTRNP.js";import"./chunk-3MK77LPM.js";import"./chunk-4U6PRYVA.js";import"./chunk-CZ4AHVKD.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-LLZYEWEK.js";import"./chunk-Z2GS73PT.js";import"./chunk-LF5XB4YN.js";import{h as w}from"./chunk-LNJ3S2LQ.js";function we(n,i){return`
<style>
@font-face {
    font-family: 'Gelion Regular';
    font-style: normal;
    font-weight: normal;
    src: local('Gelion Regular'), url('/assets/fonts/gelion-regular.woff') format('woff');
}
@font-face {
    font-family: 'Grotesk Bold';
    font-style: normal;
    font-weight: normal;
    src: local('Grotesk Bold'), url('/assets/fonts/grotesk-bold.woff') format('woff');
}

@font-face {
    font-family: 'Nunito';
    font-style: normal;
    font-weight: normal;
    src: local('Nunito'), url('/assets/fonts/nunito-extrabold.woff') format('woff');
}


p, span {
    font-family: 'Gelion Regular';
    margin: 0;
    font-size: 0.8rem;
}

a {
    text-decoration: none;
}

.desc {
    display: ${i>0?"-webkit-box":"none"};
    -webkit-line-clamp: ${i};
    line-clamp: ${i};
    -webkit-box-orient: vertical; 
    overflow: hidden;
    font-size: 0.7rem;
}

.time {
    padding-top: 0rem;    
    font-size: 0.8rem;
}


.event-header {
    display: flex;
    align-items: center;
    padding-bottom: 0.5rem;
}

.camp-header {
    display: flex;    
    width: 100%;
    justify-content: space-between;
    align-items: flex-end;
    padding-bottom: 0.5rem;
}
.title {
    page-break-before: always;
    margin-top: 50px;
}

.break {
      page-break-after: always;
}
.after-break {
    height: 50px;
    border-bottom: 1px solid grey;
}

.camp {
    color: #F61067; 
}

.event {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    page-break-inside: avoid;
}

span {
    margin-top: 1rem;
    font-weight: bold;
}

h1, h2 {
    font-family: 'Nunito';
    margin: 0;
}

header, footer {
    text-align: center;
}

h3 {
    font-family: 'Grotesk Bold';    
    font-size: 0.8rem;
    margin: 0;
}

img {
    height: 50px;
    width: 50px;
    object-fit: cover;
    margin-right: 0.5rem;
    border-radius: 0.5rem;
}

img.camp {
    float: left;
}

.container {
   max-width: 1200px;
   margin-left: 0rem;
   margin-right: 0rem;
}

.columns-container {
    columns: ${n>4?"110":"150"}px ${n};
    column-gap: 1.5rem;
    column-rule 1px solid #f1f1f1;
    padding: 1rem;

    > * + * {
        margin-top: 1rem;
    }
}

@page {
    margin-top: 1cm;
    margin-bottom: 1cm;
    @top-center {
        content: element(pageHeader);
    }

    @bottom-center {
        content: element(pageFooter);
    }
}

.page-break {
    page-break-before: always;
}

#pageHeader{
    position: running(pageHeader);
}

#pageFooter{
    position: running(pageFooter);
}
</style>
`}var Ie=(n,i)=>i.id;function Pe(n,i){if(n&1&&(u(0,"h2",0),a(1),v()),n&2){let e=d().$implicit;r(),f(e.heading)}}function Ee(n,i){if(n&1&&W(0,"img",3),n&2){let e=d().$implicit;k("src",e.image,O)}}function Se(n,i){if(n&1&&(h(0,Pe,2,1,"h2",0),u(1,"div",1)(2,"div",2),h(3,Ee,1,1,"img",3),u(4,"div")(5,"h3"),a(6),v(),u(7,"p",4),a(8),v(),u(9,"a",5)(10,"p",6),a(11),v()()()(),u(12,"p",7),a(13),v()()),n&2){let e=i.$implicit,t=d();_(e.heading?0:-1),r(3),_(e.image&&!t.hideImages()?3:-1),r(3),f(e.title),r(2),D(" ",e.timeString," "),r(),k("href",e.campUrl,O),r(2),f(t.eventLocation(e)),r(2),f(e.description)}}var B=class B{constructor(){this.events=[];this.day=R("day");this.excluded=R("");this.hideImages=F(!1);this.pbOnDay=F(!0);this.inited=!1;this.done=K(()=>console.log(this.hideImages()));this.eventService=b(z);this.api=b(V);$(()=>{let i=this.excluded();this.ngOnInit()})}ngOnInit(){return w(this,null,function*(){this.inited||(this.inited=!0,this.events=yield this.eventService.getPrintableEvents(this.api.vanity(),yield this.api.events({cached:!0}),this.day(),this.excluded()))})}eventLocation(i){var e,t;return he(i.camp)?(e=i.other_location)!=null?e:"":(t=i.camp)!=null?t:""}};B.\u0275fac=function(e){return new(e||B)},B.\u0275cmp=S({type:B,selectors:[["app-print-events"]],inputs:{day:[1,"day"],excluded:[1,"excluded"],hideImages:[1,"hideImages"],pbOnDay:[1,"pbOnDay"]},outputs:{hideImages:"hideImagesChange",pbOnDay:"pbOnDayChange"},decls:2,vars:0,consts:[[1,"title"],[1,"event"],[1,"event-header"],[3,"src"],[1,"time"],[3,"href"],[1,"camp"],[1,"desc"]],template:function(e,t){e&1&&P(0,Se,14,7,null,null,Ie),e&2&&E(t.events)},encapsulation:2});var H=B;var Te=(n,i)=>i.id;function Me(n,i){if(n&1&&W(0,"img",2),n&2){let e=d().$implicit;k("src",e.imageUrl,O)}}function De(n,i){if(n&1&&(u(0,"div",0)(1,"div",1)(2,"h3"),a(3),v()(),u(4,"p"),h(5,Me,1,1,"img",2),a(6),v()()),n&2){let e=i.$implicit,t=d();r(3),f(e.name),r(2),_(e.imageUrl&&!t.hideImages()?5:-1),r(),D(" ",e.description," ")}}var N=class N{constructor(){this.api=b(V);this.camps=[];this.hideImages=F(!1)}ngOnInit(){return w(this,null,function*(){this.camps=yield this.api.camps({cached:!1}),this.camps.map(i=>{i.imageUrl&&(i.imageUrl=this.api.imageURL(i.imageUrl))})})}};N.\u0275fac=function(e){return new(e||N)},N.\u0275cmp=S({type:N,selectors:[["app-print-camps"]],inputs:{hideImages:[1,"hideImages"]},outputs:{hideImages:"hideImagesChange"},decls:2,vars:0,consts:[[1,"event"],[1,"camp-header"],[1,"camp",3,"src"]],template:function(e,t){e&1&&P(0,De,7,3,"div",0,Te),e&2&&E(t.camps)},encapsulation:2});var j=N;var Ve=(n,i)=>i.id;function Oe(n,i){if(n&1&&W(0,"img",2),n&2){let e=d().$implicit;k("src",e.imageUrl,O)}}function ke(n,i){if(n&1&&(u(0,"div",0)(1,"div",1)(2,"h3"),a(3),v()(),u(4,"p"),h(5,Oe,1,1,"img",2),a(6),v()()),n&2){let e=i.$implicit,t=d();r(3),f(e.name),r(2),_(e.imageUrl&&!t.hideImages()?5:-1),r(),D(" ",e.description," ")}}var U=class U{constructor(){this.api=b(V);this.art=[];this.hideImages=F(!1)}ngOnInit(){return w(this,null,function*(){this.art=yield this.api.art({cached:!1}),this.art.map(i=>{i.imageUrl&&(i.imageUrl=this.api.imageURL(i.imageUrl))})})}};U.\u0275fac=function(e){return new(e||U)},U.\u0275cmp=S({type:U,selectors:[["app-print-art"]],inputs:{hideImages:[1,"hideImages"]},outputs:{hideImages:"hideImagesChange"},decls:2,vars:0,consts:[[1,"event"],[1,"camp-header"],[1,"camp",3,"src"]],template:function(e,t){e&1&&P(0,ke,7,3,"div",0,Ve),e&2&&E(t.art)},encapsulation:2});var G=U;var Fe=["frame"];function We(n,i){if(n&1&&(o(0,"ion-select-option",23),a(1),l()),n&2){let e=i.$implicit;y("value",e),r(),f(e)}}function Be(n,i){n&1&&T(0,"app-spinner")}function Ne(n,i){if(n&1){let e=A();o(0,"header",28)(1,"h1"),a(2),l(),o(3,"h2"),a(4),l()(),o(5,"div",29)(6,"div",30)(7,"app-print-events",31),I("pbOnDayChange",function(s){c(e);let m=d(2);return x(m.pbOnDay,s)||(m.pbOnDay=s),g(s)})("hideImagesChange",function(s){c(e);let m=d(2);return x(m.hideImages,s)||(m.hideImages=s),g(s)}),l()()()}if(n&2){let e=i.$implicit,t=d(2);y("ngClass",t.pbOnDay?"page-break":""),r(2),f(t.title),r(2),D("",e," Events"),r(3),C("pbOnDay",t.pbOnDay),y("excluded",t.excluded),C("hideImages",t.hideImages),y("day",e)}}function Ue(n,i){if(n&1&&P(0,Ne,8,7,null,null,Z),n&2){let e=d();E(e.days)}}function Le(n,i){if(n&1){let e=A();o(0,"header",32)(1,"h1"),a(2),l(),o(3,"h2"),a(4,"Theme Camps"),l()(),o(5,"div",29)(6,"div",30)(7,"app-print-camps",33),I("hideImagesChange",function(s){c(e);let m=d();return x(m.hideImages,s)||(m.hideImages=s),g(s)}),l()()()}if(n&2){let e=d();r(2),f(e.title),r(5),C("hideImages",e.hideImages)}}function Ae(n,i){if(n&1){let e=A();o(0,"header",32)(1,"h1"),a(2),l(),o(3,"h2"),a(4,"Art"),l()(),o(5,"div",29)(6,"div",30)(7,"app-print-art",33),I("hideImagesChange",function(s){c(e);let m=d();return x(m.hideImages,s)||(m.hideImages=s),g(s)}),l()()()}if(n&2){let e=d();r(2),f(e.title),r(5),C("hideImages",e.hideImages)}}var L=class L{constructor(){this.vanity=R();this.title="";this.busy=!0;this.diffTimeZone="";this.showing="all";this.imageUrl="";this.pbOnDay=!0;this.hideImages=!1;this.filter="all";this.excludedTypes=[];this.excluded="";this.eventTypes=[];this.columns="3";this.lines="6";this.days=[];this.eventService=b(z);this.api=b(V);Ce({add:_e,printOutline:ve})}ngOnInit(){return w(this,null,function*(){var e;this.title=this.api.festivalTitle(),this.diffTimeZone=this.api.currentTimeZone()==this.api.festivalTimeZone()?"":this.api.festivalTimeZone(),yield this.api.setFestivalByVanity(this.vanity()),this.imageUrl=(e=this.api.imageURL(this.api.festivalImage()))!=null?e:"";let i=yield this.api.getFestival(this.api.festivalId,{cached:!0});this.eventTypes=i.event_types?i.event_types.split(`
`):xe})}print(){this.iFrame.nativeElement.contentWindow.focus(),this.iFrame.nativeElement.contentWindow.print()}ionViewDidEnter(){return w(this,null,function*(){yield this.refresh(),setTimeout(()=>{this.busy=!1,this.copyToIFrame()},4e3)})}hasEvents(){return this.filter=="all"||this.filter=="events"}hasCamps(){return this.filter=="all"||this.filter=="camps"}hasArt(){return this.filter=="all"||this.filter=="art"}update(){this.excluded=this.excludedTypes.join(","),this.busy=!0,setTimeout(()=>{this.busy=!1,this.copyToIFrame()},4e3)}copyToIFrame(){let i=document.getElementById("page"),e=this.iFrame.nativeElement.contentDocument;e.open(),e.write(we(parseInt(this.columns),parseInt(this.lines))),e.write(i==null?void 0:i.innerHTML),e.close()}festivalImage(){return this.api.imageURL(this.api.festivalImage())}refresh(){return w(this,null,function*(){this.days=yield this.eventService.getEventDays(this.api.vanity(),yield this.api.events({cached:!1}))})}};L.\u0275fac=function(e){return new(e||L)},L.\u0275cmp=S({type:L,selectors:[["app-print"]],viewQuery:function(e,t){if(e&1&&q(Fe,5),e&2){let s;Y(s=J())&&(t.iFrame=s.first)}},inputs:{vanity:[1,"vanity"]},decls:71,vars:18,consts:[["frame",""],["color","primary"],["slot","start"],["slot","end"],[3,"click"],["labelPlacement","end",3,"ionChange","ngModelChange","ngModel"],[2,"padding","1rem"],["slot","end","label","COLUMNS","aria-label","Columns","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["slot","end","label","MAX LINES","aria-label","Maximum Lines","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","0"],["value","6"],["value","10"],["slot","end","label","FILTER","aria-label","Filter by Type","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","all"],["value","camps"],["value","events"],["value","art"],["label","EXCLUDE TYPES","interface","popover","placeholder","Select event types to exclude",2,"max-width","200px",3,"ionChange","ngModelChange","multiple","value","ngModel"],[3,"value"],[3,"fullscreen"],[3,"scrolling","frameBorder"],["id","page",2,"display","none"],["id","pageFooter"],["id","pageHeader",3,"ngClass"],[1,"container"],[1,"columns-container"],[3,"pbOnDayChange","hideImagesChange","pbOnDay","excluded","hideImages","day"],["id","pageHeader",1,"page-break"],[3,"hideImagesChange","hideImages"]],template:function(e,t){if(e&1){let s=A();o(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2),T(3,"ion-back-button"),l(),o(4,"ion-title"),a(5,"Print Preview"),l(),o(6,"ion-buttons",3)(7,"ion-button",4),M("click",function(){return c(s),g(t.print())}),a(8,"Print"),l()()(),o(9,"ion-toolbar",1)(10,"ion-buttons")(11,"ion-button")(12,"ion-checkbox",5),M("ionChange",function(){return c(s),g(t.update())}),I("ngModelChange",function(p){return c(s),x(t.hideImages,p)||(t.hideImages=p),g(p)}),a(13,"Hide Images"),l()(),T(14,"div",6),o(15,"ion-select",7),M("ionChange",function(){return c(s),g(t.update())}),I("ngModelChange",function(p){return c(s),x(t.columns,p)||(t.columns=p),g(p)}),o(16,"ion-select-option",8),a(17,"1"),l(),o(18,"ion-select-option",9),a(19,"2"),l(),o(20,"ion-select-option",10),a(21,"3"),l(),o(22,"ion-select-option",11),a(23,"4"),l(),o(24,"ion-select-option",12),a(25,"5"),l()(),T(26,"div",6),o(27,"ion-select",13),M("ionChange",function(){return c(s),g(t.update())}),I("ngModelChange",function(p){return c(s),x(t.lines,p)||(t.lines=p),g(p)}),o(28,"ion-select-option",14),a(29,"0"),l(),o(30,"ion-select-option",8),a(31,"1"),l(),o(32,"ion-select-option",9),a(33,"2"),l(),o(34,"ion-select-option",10),a(35,"3"),l(),o(36,"ion-select-option",11),a(37,"4"),l(),o(38,"ion-select-option",12),a(39,"5"),l(),o(40,"ion-select-option",15),a(41,"6"),l(),o(42,"ion-select-option",16),a(43,"10"),l()(),T(44,"div",6),o(45,"ion-select",17),M("ionChange",function(){return c(s),g(t.update())}),I("ngModelChange",function(p){return c(s),x(t.filter,p)||(t.filter=p),g(p)}),o(46,"ion-select-option",18),a(47,"All"),l(),o(48,"ion-select-option",19),a(49,"Camps"),l(),o(50,"ion-select-option",20),a(51,"Events"),l(),o(52,"ion-select-option",21),a(53,"Art"),l()(),T(54,"div",6),o(55,"ion-select",22),M("ionChange",function(){return c(s),g(t.update())}),I("ngModelChange",function(p){return c(s),x(t.excludedTypes,p)||(t.excludedTypes=p),g(p)}),P(56,We,2,2,"ion-select-option",23,Z),l(),o(58,"ion-button")(59,"ion-checkbox",5),M("ionChange",function(){return c(s),g(t.update())}),I("ngModelChange",function(p){return c(s),x(t.pbOnDay,p)||(t.pbOnDay=p),g(p)}),a(60,"Page Break on Day"),l()()()()(),o(61,"ion-content",24),h(62,Be,1,0,"app-spinner"),T(63,"iframe",25,0),o(65,"div",26),h(66,Ue,2,0),h(67,Le,8,2),h(68,Ae,8,2),o(69,"footer",27),a(70,"-"),l()()()}e&2&&(r(12),C("ngModel",t.hideImages),r(3),C("ngModel",t.columns),y("value",t.columns),r(12),C("ngModel",t.lines),y("value",t.lines),r(18),C("ngModel",t.filter),y("value",t.filter),r(10),y("multiple",!0)("value",t.excludedTypes),C("ngModel",t.excludedTypes),r(),E(t.eventTypes),r(3),C("ngModel",t.pbOnDay),r(2),y("fullscreen",!0),r(),_(t.busy?62:-1),r(),y("scrolling","no")("frameBorder",0),r(3),_(t.hasEvents()?66:-1),r(),_(t.hasCamps()?67:-1),r(),_(t.hasArt()?68:-1))},dependencies:[fe,ye,te,ee,oe,ne,ae,ie,pe,ge,se,re,ce,le,me,H,j,G,ue,de],styles:["iframe[_ngcontent-%COMP%]{height:100%;width:100%}ion-checkbox[_ngcontent-%COMP%]{font-family:Gelion Regular;font-size:medium}ion-select[_ngcontent-%COMP%]{font-size:medium}ion-select[_ngcontent-%COMP%]::part(icon){color:#fff!important}"]});var be=L;export{be as PrintPage};
