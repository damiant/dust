import{G as z,a as L,aa as K,p as W}from"./chunk-TF5OT4X3.js";import{I as F,d as V}from"./chunk-CXIDEVKY.js";import{$ as w,Ba as c,Cc as A,Dc as B,Ea as x,Fa as T,G as l,Ga as O,O as b,Ra as r,Ta as k,Yb as P,Z as v,_ as E,aa as C,ba as a,ca as s,da as y,ia as M,ka as d,ma as _,mc as S,ob as I,p as h,rb as D,s as u,t as g,yb as N,za as p}from"./chunk-GPCT4GNB.js";function $(f,e){if(f&1){let n=M();a(0,"ion-button",5),d("click",function(){let o=u(n).$implicit,t=_();return g(t.copy(o))}),p(1),a(2,"div",6),d("click",function(){let o=u(n).$implicit,t=_();return g(t.remove(o))}),y(3,"ion-icon",7),s()()}if(f&2){let n=e.$implicit;l(),c("",n," ")}}var m=class m{constructor(){this.isAdmin=r(!1);this.isOwner=r(!1);this.label=r("Owner");this.api=h(F);this.placeholder=r("Email address of owner");this.emails=k("");this.newEmail="";this._emails=["damian@dust.events"];this.helperText=r("The owner can login and alter details.");K({add:L,close:W,informationCircleOutline:z})}remove(e){this._emails=this._emails.filter(n=>n!==e),this.update()}onKeyUp(e){e.key===" "&&this.addEmail(),e.key===","&&this.addEmail()}copy(e){navigator.clipboard.writeText(e),this.api.sendMessage(`Copied ${e} to the clipboard`,1)}addEmail(){V(this.cleanEmail(this.newEmail.trim()))&&(this._emails.push(this.cleanEmail(this.newEmail.trim())),this.update(),this.newEmail="")}cleanEmail(e){return e.trim().toLowerCase().replace(",","")}onWillDismiss(e){e.detail.role==="confirm"&&console.log(`Hello, ${e.detail.data}!`)}update(){this.emails.set(this._emails.join(","))}ngOnInit(){this._emails=this.emails()?this.emails().split(","):[],this.newEmail=""}};m.\u0275fac=function(n){return new(n||m)},m.\u0275cmp=b({type:m,selectors:[["app-emails"]],inputs:{isAdmin:[1,"isAdmin"],isOwner:[1,"isOwner"],label:[1,"label"],placeholder:[1,"placeholder"],emails:[1,"emails"],helperText:[1,"helperText"]},outputs:{emails:"emailsChange"},decls:8,vars:5,consts:[["id","emailLabel"],[1,"row"],["size","small","color","medium","mode","ios","shape","round",1,"email"],["helperText","",3,"ionBlur","keyup.Tab","keyup","ngModelChange","disabled","readonly","ngModel"],[1,"helper","helper2"],["size","small","color","medium","mode","ios","shape","round",1,"email",3,"click"],[3,"click"],["slot","end","name","close"]],template:function(n,i){n&1&&(a(0,"ion-label",0),p(1),s(),a(2,"div",1),E(3,$,4,1,"ion-button",2,v),a(5,"ion-input",3),d("ionBlur",function(){return i.addEmail()})("keyup.Tab",function(){return i.addEmail()})("keyup",function(t){return i.onKeyUp(t)}),O("ngModelChange",function(t){return T(i.newEmail,t)||(i.newEmail=t),t}),s()(),a(6,"div",4),p(7),s()),n&2&&(l(),c("",i.label(),`
`),l(2),w(i._emails),l(2),C("disabled",!i.isAdmin&&!i.isOwner)("readonly",!i.isAdmin&&!i.isOwner),x("ngModel",i.newEmail),l(2),c(" ",i.helperText(),`
`))},dependencies:[B,N,I,D,P,A,S],styles:[".row[_ngcontent-%COMP%]{display:flex;background-color:#0000000d;border-radius:10px;margin-left:1rem;align-self:center;flex-wrap:wrap}.button[_ngcontent-%COMP%]{height:40px;align-self:flex-end;margin-bottom:10px;margin-top:10px}ion-button[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px}.helper2[_ngcontent-%COMP%]{padding-left:2rem}ion-icon[_ngcontent-%COMP%]{background-color:var(--ion-color-light);color:var(--ion-color-medium);border-radius:20px;margin-left:8px;margin-right:0;padding-right:0;font-size:20px}ion-label[_ngcontent-%COMP%]{margin-left:1rem;margin-top:1rem}ion-input[_ngcontent-%COMP%]{--input-background: rgba(0, 0, 0, 0);padding-top:0!important;margin-top:-20px!important}"]});var U=m;export{U as a};
