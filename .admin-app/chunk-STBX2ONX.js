import{a as it}from"./chunk-TKZA435V.js";import{a as et}from"./chunk-KTPI2GKX.js";import{a as pe}from"./chunk-IZLYP3IF.js";import{a as tt}from"./chunk-XS7NHT5I.js";import{a as Xe}from"./chunk-TM3WTZXM.js";import{a as Ge,c as P}from"./chunk-OZ2IKH4J.js";import"./chunk-NBGQYW5Y.js";import"./chunk-HTUMMCB5.js";import"./chunk-I4H34LCA.js";import"./chunk-GDAPN2EF.js";import"./chunk-HC6MZPB3.js";import"./chunk-YMI2B6JE.js";import"./chunk-STA5XHHU.js";import"./chunk-NPRM7GGH.js";import"./chunk-SFJBRZ2Y.js";import"./chunk-I5V6RRU4.js";import"./chunk-2EOHHFOF.js";import"./chunk-JXIEZMHN.js";import"./chunk-3QBWF6TQ.js";import"./chunk-MCRJI3T3.js";import"./chunk-GTAO53MO.js";import"./chunk-JEOCIQEZ.js";import"./chunk-MM5QLNJM.js";import"./chunk-3573TPBU.js";import{F as Ye,Y as me,b as Ze,m as Ke,q as Qe}from"./chunk-IKEGAJLW.js";import{G as le,a as Ue,b as we,e as se,l as Te,m as Z,o as ce,p as Je,q as qe,r as Me,t as T,v as He,y as $e}from"./chunk-YDFKN7Z7.js";import"./chunk-XMQYHBKU.js";import{$ as f,Ac as Re,Bc as ze,Cc as je,G as c,Ha as $,I as J,Ia as K,Ja as V,Ka as v,Kb as Ae,L as M,La as Oe,Lb as Q,Ma as A,P as Ie,Pa as Le,Rb as Y,Sb as G,Tb as We,Ub as Ne,V as q,W as H,Y as Ce,Ya as De,Z as L,Zb as X,_ as D,aa as a,ba as r,ca as g,cb as ke,dc as ee,ea as x,ec as E,fa as u,fc as te,ga as l,gc as ie,hb as W,kb as N,kc as Be,lc as Fe,na as be,oa as Se,oc as ne,p as O,pb as Ve,pc as oe,qa as Ee,ra as Pe,rb as S,s as p,sa as h,t as d,ta as k,vc as re,w as b,wc as ae,xa as y,ya as C,za as w}from"./chunk-A5SCVZG7.js";import"./chunk-JORYF43P.js";import"./chunk-7KGURMOZ.js";import"./chunk-R7LHOHUY.js";import"./chunk-HUOLUIW7.js";import"./chunk-CCK7OWI7.js";import"./chunk-LIBYTRNP.js";import"./chunk-3MK77LPM.js";import"./chunk-4U6PRYVA.js";import"./chunk-CZ4AHVKD.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{h as I}from"./chunk-LNJ3S2LQ.js";function at(s,t){if(s&1){let e=x();a(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),u("click",function(){p(e);let i=l();return d(i.cancel())}),h(4,"Cancel"),r()(),a(5,"ion-title"),h(6,"Import"),r(),a(7,"ion-buttons",4)(8,"ion-button",5),u("click",function(){p(e);let i=l();return d(i.confirm())}),h(9,"Convert"),r()()()(),a(10,"ion-content",6)(11,"ion-item")(12,"ion-textarea",7),w("ngModelChange",function(i){p(e);let o=l();return C(o.text,i)||(o.text=i),d(i)}),r()(),a(13,"ion-item"),g(14,"ion-textarea",8),r()()}if(s&2){let e=l();c(8),f("strong",!0),c(4),y("ngModel",e.text),c(2),f("value",e.prompt)}}var B=class B{constructor(){this.text="";this.modal=Oe.required(Q);this.isOpen=A(!1);this.occurrences=b([]);this.imported=V();this.alert=O(pe);this.prompt="Convert this to a JSON array an artist, startDate in iso date format, endDate in iso date format where endDate is 1 hour after startDate if the endDate is missing. Thursday is February 13 2025. Also convert the artist to title case. Finally, only list items that are on thursday"}cancel(){this.modal().dismiss(null,"cancel")}confirm(){this.validate(this.text)&&this.modal().dismiss(this.text,"confirm")}onWillDismiss(t){t.detail.role==="confirm"&&this.imported.emit(this.occurrences()),this.isOpen.set(!1)}validate(t){let e=JSON.parse(t);if(!Array.isArray(e))return P(this.alert,"Data is not an array"),!1;if(e.length===0)return P(this.alert,"Data is empty"),!1;let n=[],i=1;for(let o of e){if(se(o.artist))return P(this.alert,"Artist is required"),!1;if(se(o.startDate))return P(this.alert,"Start date is required"),!1;if(!we(o.startDate))return P(this.alert,`Invalid start date "${o.startDate}"`),!1;if(se(o.endDate))return P(this.alert,"End date is required"),!1;if(!we(o.endDate))return P(this.alert,`Invalid end date "${o.endDate}"`),!1;n.push({id:i.toString(),who:o.artist,startTime:T(o.startDate),endTime:T(o.endDate)}),i++}return this.occurrences.set(n),!0}};B.\u0275fac=function(e){return new(e||B)},B.\u0275cmp=M({type:B,selectors:[["app-music-import"]],viewQuery:function(e,n){e&1&&be(n.modal,Q,5),e&2&&Se()},inputs:{isOpen:[1,"isOpen"]},outputs:{isOpen:"isOpenChange",imported:"imported"},decls:2,vars:1,consts:[[3,"willDismiss","isOpen"],["color","primary"],["slot","start"],[3,"click"],["slot","end"],[3,"click","strong"],[1,"ion-padding"],["rows","15","placeholder","",3,"ngModelChange","ngModel"],["rows","4",3,"value"]],template:function(e,n){e&1&&(a(0,"ion-modal",0),u("willDismiss",function(o){return n.onWillDismiss(o)}),Ie(1,at,15,3,"ng-template"),r()),e&2&&f("isOpen",n.isOpen())},dependencies:[X,Y,Q,ee,G,ne,oe,je,E,S,W,N],encapsulation:2});var de=B;var st=(s,t)=>t.uid;function ct(s,t){if(s&1){let e=x();a(0,"ion-item",2),u("click",function(){let i=p(e).$implicit,o=l();return d(o.onEntryClick(i))}),a(1,"ion-label"),h(2),r()()}if(s&2){let e=t.$implicit;c(2),k(e.name)}}function lt(s,t){s&1&&(a(0,"ion-item")(1,"ion-label",3),h(2,"No entries found"),r()())}var F=class F{constructor(){this.searchText=v("");this.entries=v([]);this.entrySelected=V();this.show=A(!1);this.filteredEntries=$(()=>{let t=this.searchText().toLowerCase().trim();if(!t)return this.entries().slice(0,10);let e=this.entries(),n=[];for(let i=0;i<e.length&&n.length<10;i++){let o=e[i];o.name.toLowerCase().includes(t)&&n.push(o)}return n})}onEntryClick(t){this.entrySelected.emit(t),this.show.set(!1),setTimeout(()=>{this.show.set(!1)},100)}};F.\u0275fac=function(e){return new(e||F)},F.\u0275cmp=M({type:F,selectors:[["app-auto-complete"]],inputs:{searchText:[1,"searchText"],entries:[1,"entries"],show:[1,"show"]},outputs:{entrySelected:"entrySelected",show:"showChange"},decls:5,vars:3,consts:[[1,"wrap"],["button",""],["button","",3,"click"],["color","medium"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"ion-list"),L(2,ct,3,1,"ion-item",1,st,!1,lt,3,0,"ion-item"),r()()),e&2&&(Ee("display",n.show()?"block":"none"),c(2),D(n.filteredEntries()))},dependencies:[ie,te,E,S],styles:[".wrap[_ngcontent-%COMP%]{border:1px solid var(--ion-color-light-shade);padding:0;margin:0;width:400px;position:absolute;z-index:1001}"],changeDetection:0});var _e=F;var R=class R{constructor(){this.ttitdService=O(it);this.locationType=b("");this.showAutoComplete=!1;this.rslLocation=v(void 0);this.placeholder=$(()=>{switch(this.locationType()){case"camp":return"Enter camp name";case"art":return"Enter art name";case"mutant":return"Enter mutant vehicle name";default:return"Enter location"}});this.location=b("");this.locationUid=b("");this.locationError=A("");this.locationSelected=V();this.ready=!1;this.entries=$(()=>{let t=this.locationType();return t==="camp"?this.ttitdService.camps.map(e=>({uid:e.uid,name:e.name})):t==="art"?this.ttitdService.art.map(e=>({uid:e.uid,name:e.name})):[]});K(()=>{let t=this.locationType();this.ready&&t!==""&&(this.location.set(""),this.locationUid.set(""),console.log("Location id set to empty"))}),K(()=>{let t=this.rslLocation();t&&(this.ready=!1,console.log("Setting location from RSLLocation",t),this.locationType.set(t.type),setTimeout(()=>{this.location.set(t.name),this.locationUid.set(t.uid),console.log(`Location id set to ${this.locationUid()}`),this.ready=!0},10))}),K(()=>{let t=this.locationType();this.locationError.set(""),t==="camp"&&this.locationUid()===""&&this.locationError.set("You must select a camp from the list."),t==="art"&&this.locationUid()===""&&this.locationError.set("You must select art from the list."),t==="mutant"&&this.location()===""&&this.locationError.set("You must enter a mutant vehicle name.")})}ngOnInit(){return I(this,null,function*(){yield this.ttitdService.init(),this.locationType()===""&&(this.locationType.set("camp"),this.ready=!0)})}onKeyPress(){this.showAutoComplete=!0}selectItem(t){this.location.set(t.name),this.locationUid.set(t.uid),console.log(`Location id set to ${this.locationUid} for ${t.name}`),this.locationError.set(""),this.locationSelected.emit({uid:this.locationUid(),name:t.name,type:this.locationType()})}onBlur(){setTimeout(()=>{this.showAutoComplete=!1},200),this.locationType()=="mutant"&&this.locationSelected.emit({uid:this.locationUid(),name:this.location(),type:this.locationType()})}};R.\u0275fac=function(e){return new(e||R)},R.\u0275cmp=M({type:R,selectors:[["app-music-location"]],inputs:{rslLocation:[1,"rslLocation"],locationError:[1,"locationError"]},outputs:{locationError:"locationErrorChange",locationSelected:"locationSelected"},decls:18,vars:6,consts:[["lines","none",1,"loc2"],[1,"lab-loc"],["mode","ios","value","camp",3,"ngModelChange","ngModel"],["value","camp"],["value","art"],["value","mutant"],[1,"w"],["lines","none",1,"loc3"],["labelPlacement","stacked",1,"loc",3,"keypress","ionBlur","ngModelChange","placeholder","ngModel"],[3,"entrySelected","show","entries","searchText"]],template:function(e,n){e&1&&(a(0,"ion-item",0)(1,"ion-label",1),h(2,"Location"),r()(),a(3,"ion-item",0)(4,"ion-segment",2),w("ngModelChange",function(o){return C(n.locationType,o)||(n.locationType=o),o}),a(5,"ion-segment-button",3)(6,"ion-label"),h(7,"Camp"),r()(),a(8,"ion-segment-button",4)(9,"ion-label"),h(10,"Art"),r()(),a(11,"ion-segment-button",5)(12,"ion-label"),h(13,"Art Car"),r()()(),g(14,"div",6),r(),a(15,"ion-item",7)(16,"ion-input",8),u("keypress",function(){return n.onKeyPress()})("ionBlur",function(){return n.onBlur()}),w("ngModelChange",function(o){return C(n.location,o)||(n.location=o),o}),r()(),a(17,"app-auto-complete",9),u("entrySelected",function(o){return n.selectItem(o)}),r()),e&2&&(c(4),y("ngModel",n.locationType),c(12),f("placeholder",n.placeholder()),y("ngModel",n.location),c(),f("show",n.showAutoComplete)("entries",n.entries())("searchText",n.location()))},dependencies:[E,ae,te,Be,Re,S,W,N,_e],styles:[".pad[_ngcontent-%COMP%]{padding:8px}.pad[_ngcontent-%COMP%]{padding:16px}@media screen and (min-width: 800px){.w[_ngcontent-%COMP%]{width:100%}}.loc[_ngcontent-%COMP%]{margin-top:-16px}.lab-loc[_ngcontent-%COMP%]{margin-bottom:-8px}.loc2[_ngcontent-%COMP%]{margin-left:-8px}.loc3[_ngcontent-%COMP%]{margin-left:-16px}"]});var fe=R;var z=class z{constructor(){this.position=v("left");this.title=v("message");this.short=v("title");this.url=v(void 0);this.api=O(le);me({informationCircleOutline:Ye})}showMessage(){this.api.sendMessage(this.title(),0,this.short(),this.url())}};z.\u0275fac=function(e){return new(e||z)},z.\u0275cmp=M({type:z,selectors:[["app-tip-button"]],inputs:{position:[1,"position"],title:[1,"title"],short:[1,"short"],url:[1,"url"]},decls:1,vars:2,consts:[["name","information-circle-outline",3,"click"]],template:function(e,n){e&1&&(a(0,"ion-icon",0),u("click",function(){return n.showMessage()}),r()),e&2&&Pe(n.position())},dependencies:[re],styles:["ion-icon[_ngcontent-%COMP%]{position:absolute;font-size:24px;margin-left:-32px;z-index:1000;cursor:pointer;opacity:.3}.bottom[_ngcontent-%COMP%]{margin-left:-40px;margin-top:10px}"]});var ge=z;var mt=(s,t)=>t.id;function pt(s,t){if(s&1&&(a(0,"ion-select-option",26),h(1),r()),s&2){let e=l().$implicit;f("value",e),c(),k(e)}}function dt(s,t){if(s&1&&q(0,pt,2,2,"ion-select-option",26),s&2){let e=t.$implicit,n=l(3);H(n.categoryHidden(e)?-1:0)}}function ut(s,t){if(s&1){let e=x();a(0,"ion-item",22)(1,"ion-select",23),w("ngModelChange",function(i){p(e);let o=l(2);return C(o.music.musicType,i)||(o.music.musicType=i),d(i)}),L(2,dt,1,1,null,null,Ce),r(),g(4,"app-tip-button",24),r(),a(5,"app-music-location",25),u("locationSelected",function(i){p(e);let o=l(2);return d(o.locationSelected(i))}),w("locationErrorChange",function(i){p(e);let o=l(2);return C(o.locationError,i)||(o.locationError=i),d(i)}),r()}if(s&2){let e=l(2);c(),f("multiple",!0)("value",e.music.musicType),y("ngModel",e.music.musicType),c(),D(e.musicTypes),c(3),f("rslLocation",e.rslLocation),y("locationError",e.locationError)}}function ht(s,t){if(s&1&&(a(0,"ion-select-option",26),h(1),r()),s&2){let e=t.$implicit;f("value",e.id),c(),k(e.name)}}function _t(s,t){if(s&1){let e=x();a(0,"ion-item",12)(1,"ion-select",27),w("ngModelChange",function(i){p(e);let o=l(2);return C(o.music.campId,i)||(o.music.campId=i),d(i)}),L(2,ht,2,2,"ion-select-option",26,Ce),r()()}if(s&2){let e=l(2);c(),f("value",e.music.campId),y("ngModel",e.music.campId),c(),D(e.camps)}}function ft(s,t){if(s&1){let e=x();a(0,"div",15)(1,"div",28)(2,"ion-input",29),w("ngModelChange",function(i){let o=p(e).$implicit;return C(o.who,i)||(o.who=i),d(i)}),r(),g(3,"app-tooltip",30),r(),a(4,"app-date-range",31),u("endChanged",function(i){let o=p(e).$implicit,m=l(2);return d(m.endChanged(o,i))})("startChanged",function(i){let o=p(e).$implicit,m=l(2);return d(m.startChanged(o,i))}),r(),a(5,"div",32)(6,"ion-button",33),u("click",function(){let i=p(e).$implicit,o=l(2);return d(o.deleteItem(i))}),g(7,"ion-icon",34),r()()()}if(s&2){let e=t.$implicit,n=l(2);c(2),y("ngModel",e.who),c(2),f("minTime",n.minTime)("maxTime",n.maxTime)("id",e.id)("startTime",e.startTime)("endTime",e.endTime),c(2),f("hidden",n.occurrences.length===1)}}function gt(s,t){if(s&1){let e=x();a(0,"ion-button",21),u("click",function(){p(e);let i=l(2);return d(i.deleteParty())}),h(1,"Delete"),r()}}function yt(s,t){s&1&&(a(0,"ion-button",18),h(1,"\xA0"),r())}function Ct(s,t){if(s&1){let e=x();a(0,"div",7)(1,"app-music-import",8),u("imported",function(i){p(e);let o=l();return d(o.imported(i))}),r(),a(2,"ion-card")(3,"ion-card-content")(4,"ion-list")(5,"ion-item",9)(6,"ion-input",10),w("ngModelChange",function(i){p(e);let o=l();return C(o.music.title,i)||(o.music.title=i),d(i)}),r(),g(7,"app-tip-button",11),r(),q(8,ut,6,5)(9,_t,4,2,"ion-item",12),a(10,"ion-item",9)(11,"app-emails",13),w("emailsChange",function(i){p(e);let o=l();return C(o.music.contact,i)||(o.music.contact=i),d(i)}),r(),g(12,"app-tip-button",14),r(),L(13,ft,8,7,"div",15,mt),r(),a(15,"div",16),q(16,gt,2,0,"ion-button",17)(17,yt,2,0,"ion-button",18),a(18,"ion-button",19),u("click",function(){p(e);let i=l();return d(i.save())}),h(19,"Save"),r(),a(20,"app-tooltip",20)(21,"ion-button",21),u("click",function(){p(e);let i=l();return d(i.addItem())}),h(22,"Add time slot"),r()()()()()()}if(s&2){let e=l();c(),f("isOpen",e.showImport()),c(5),y("ngModel",e.music.title),c(2),H(e.ttitd?8:9),c(3),f("isAdmin",e.isAdmin)("isOwner",e.isOwner)("label","Party Owner")("placeholder","Email address"),y("emails",e.music.contact),c(2),D(e.occurrences),c(3),H((e.isAdmin||e.isOwner)&&e.music.id?16:17),c(2),f("disabled",e.saving)}}var j=class j{constructor(t,e,n,i){this.api=t;this.route=e;this.alert=n;this.location=i;this.busy=!0;this.ttitd=!1;this.showImport=b(!1);this.camps=[];this.minTime=new Date().toISOString();this.maxTime=new Date().toISOString();this.isOwner=!1;this.isAdmin=!1;this.saving=!1;this.musicTypes=[];this.timezone=this.api.currentTimeZone();this.music={id:void 0,camp:"",location:"",day:"",occurrences:"[]"};this.occurrences=[];this.locationError=b("");this.isNew=!1;me({closeOutline:Qe,addOutline:Ze,chevronDown:Ke})}ionViewWillEnter(){return I(this,null,function*(){var n;yield this.api.setFestivalByVanity(this.vanity),this.id=Te(this.id),this.isNew=!this.id;let t=yield this.api.getFestival(this.api.festivalId,{cached:!0});this.ttitd=t.music_registration&&this.hasMusicRegistration(t.vanity),this.musicTypes=((n=t.music_types)==null?void 0:n.split(`
`))||[],this.isNew?(this.music=yield this.api.newMusic(),console.log("new music with camp",this.route.snapshot.queryParams.camp),this.music.campId=Te(this.route.snapshot.queryParams.camp)):(this.music=yield this.api.getMusic(this.id),this.music.musicType=this.music.musicType?this.music.musicType.split(","):"",this.ttitd&&this.extractLocation(this.music));let e=this.api.getAccessInfo(t.id);this.isOwner=this.music&&e.music.includes(this.music.id)||this.isNew,this.isAdmin=this.api.isAdmin(t.id),this.timezone=t.timezone,this.timezone||(this.timezone=this.api.currentTimeZone()),this.minTime=t.start_time,this.maxTime=T(ce(Z(t.end_time),12).toISOString()),this.occurrences=JSON.parse(this.music.occurrences),this.occurrences.length==0&&this.occurrences.push({who:"",id:"1",startTime:this.minTime,endTime:T(ce(Z(this.minTime),1).toISOString())});for(let i of this.occurrences)i.startTime=T(i.startTime),i.endTime=T(i.endTime);this.busy=!1})}hasMusicRegistration(t){return!!(t.toLowerCase().includes("librarian")||t.toLowerCase().includes("forest"))}ngOnInit(){return I(this,null,function*(){this.camps=yield this.api.camps({cached:!0})})}categoryHidden(t){return this.isAdmin?!1:t.startsWith("_")}lastTime(){let t=this.minTime;for(let e of this.occurrences)t=e.endTime;return t}deleteParty(){return I(this,null,function*(){(yield Ge(this.alert,"Are you sure you want to delete this party?"))&&(yield this.api.deleteParty(this.music.id),this.api.clearCache(),this.location.back())})}deleteItem(t){this.occurrences.length!=1&&(this.occurrences=this.occurrences.filter(e=>e.id!==t.id))}addItem(){let t=this.lastTime();this.occurrences.push({who:"",id:(this.occurrences.length+1).toString(),startTime:t,endTime:T(ce(Z(t),1).toISOString())})}getDayName(t){return new Date(t).toLocaleDateString(void 0,{weekday:"long"})}sortableTime(t){return new Date(t).getTime()}extractLocation(t){try{this.rslLocation=JSON.parse(t.location),console.log("extracted location",this.rslLocation)}catch{this.rslLocation=void 0}}save(){return I(this,null,function*(){var i,o;if(!this.music.title||((i=this.music.title)==null?void 0:i.trim())==""){this.api.sendMessage("The name of the party must be set");return}if(this.ttitd&&this.locationError()!=""){this.api.sendMessage(this.locationError());return}this.music.title=Me(this.music.title);let t=this.camps.find(m=>m.id==this.music.campId);this.music.camp=t?t.name:"Unknown";let e;for(let m of this.occurrences){if(m.who.trim()==""){this.api.sendMessage("The DJ/Musician must be set");return}m.startTime=T(m.startTime),m.endTime=T(m.endTime),m.who=Me(m.who);let U=new Date(m.startTime),xe=new Date(m.endTime);m.timeRange=(o=Ue(U,xe,void 0,this.api.currentTimeZone()))==null?void 0:o.brief,m.who.trim()==this.music.title.trim()&&(e=m.who)}if(this.occurrences=this.occurrences.sort((m,U)=>this.sortableTime(m.startTime)-this.sortableTime(U.startTime)),e){let m=this.getDayName(this.occurrences[0].startTime);this.api.sendMessage(`The name of the party should not be the same as a DJ/Musician. A better name for a party might be "${this.music.camp} ${m}"`);return}let n=yield this.badTimeSlot(this.music,this.occurrences);if(n){this.api.sendMessage(n);return}He(this.music);try{this.music.musicType=this.music.musicType.join(",")}catch{}try{this.saving=!0,yield this.api.addMusic(this.music,this.occurrences),this.location.back()}finally{this.saving=!1}})}startChanged(t,e){t.startTime=e,t.endTime=qe(Je(Z(e),60))}endChanged(t,e){t.endTime=e}locationSelected(t){this.music.location=JSON.stringify(t),console.log(t)}badTimeSlot(t,e){return I(this,null,function*(){let n=(yield this.api.music()).filter(_=>_.campId==t.campId);if(this.ttitd){if(!t.location)return console.log(t),"The party needs a location selected"}else if(!t.campId&&!t.artCar)return"The party needs a location selected";let i=new Set;for(let _ of e){if(i.has(_.startTime))return`${_.who} is at a duplicate time of ${$e(new Date(_.startTime),this.api.currentTimeZone())}`;i.add(_.startTime)}let o=e.map(_=>new Date(_.startTime)),m=e.map(_=>new Date(_.endTime)),U=new Date(Math.min(...o.map(_=>_.getTime())));if((new Date(Math.max(...m.map(_=>_.getTime()))).getTime()-U.getTime())/(1e3*60*60)>24)return"The time span exceeds 24 hours. Keep party length less than 24 hours";for(let _ of n){let ve=JSON.parse(_.occurrences),ye=ve[ve.length-1],rt=e[e.length-1];if(this.music.id!=_.id&&this.music.id!=null){if(this.isEqual(ye==null?void 0:ye.endTime,rt.startTime)&&(console.log("this.music.id",this.music.id),this.isNew))return`It looks like you are creating a party for a DJ timeslot instead of adding another timeslot to "${_.title}". Please add your DJ to the other party`;if(this.music.title==_.title)return`The party ${this.music.title} already exists. Please create a unique name for the party`}}})}imported(t){return I(this,null,function*(){this.occurrences=t})}isEqual(t,e){return t.replace(".000","")==e.replace(".000","")}};j.\u0275fac=function(e){return new(e||j)(J(le),J(De),J(pe),J(Le))},j.\u0275cmp=M({type:j,selectors:[["app-music-item"]],inputs:{id:"id",vanity:"vanity"},decls:13,vars:3,consts:[["color","primary"],["slot","start"],["slot","end"],["fill","clear",3,"click"],["size","small","name","chevron-down"],[3,"click"],[3,"fullscreen"],[1,"border"],[3,"imported","isOpen"],["lines","none"],["label","Party Title","labelPlacement","stacked","placeholder","Title of the theme camp or party",3,"ngModelChange","ngModel"],["short","Party Title","title","Examples: 'White Party, Welcome Home.', 'Duck Pond takeover Opulent Chill'","position","bottom"],["lines","none",1,"app-select"],["helperText","",3,"emailsChange","isAdmin","isOwner","label","placeholder","emails"],["short","Party Owner","title","The party owner can login and alter this lineup. This is a list of email addresses."],[1,"horizontal","bottom-line"],[1,"horizontal"],["color","secondary"],["fill","clear"],[3,"click","disabled"],["position","right","text","Add a time slot"],["color","secondary",3,"click"],["lines","none",1,"app-select","ion-padding-top"],["labelPlacement","stacked","label","Categories","interface","popover","placeholder","Select the applicable categories",1,"app-select",3,"ngModelChange","multiple","value","ngModel"],["short","Categories","title","Select applicable categories only. Want to know what wheelchair accessible means?","url","https://mobilitycamp.org/how-to-be-wheelchair-friendly/","position","bottom"],[3,"locationSelected","locationErrorChange","rslLocation","locationError"],[3,"value"],["label","Location","labelPlacement","stacked","interface","popover","placeholder","Select location of event",1,"app-select",3,"ngModelChange","value","ngModel"],["lines","none",1,"dj","vcenter"],["mode","ios","labelPlacement","stacked","label","DJ / Musician","maxlength","128",3,"ngModelChange","ngModel"],["position","right","text","Remove this time slot",2,"margin-top","32px"],["size","wide","label","",3,"endChanged","startChanged","minTime","maxTime","id","startTime","endTime"],[1,"vcenter","del"],["slot","end","color","secondary",3,"click","hidden"],["size","small","name","close-outline"]],template:function(e,n){e&1&&(a(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),g(3,"ion-back-button"),r(),a(4,"ion-title"),h(5),r(),a(6,"ion-buttons",2)(7,"ion-button",3),u("click",function(){return n.showImport.set(!0)}),g(8,"ion-icon",4),r(),a(9,"ion-button",5),u("click",function(){return n.save()}),h(10,"Save"),r()()()(),a(11,"ion-content",6),q(12,Ct,23,10,"div",7),r()),e&2&&(c(5),k(n.id?"Party":"Add Party"),c(6),f("fullscreen",!0),c(),H(n.busy?-1:12))},dependencies:[S,W,Ve,N,ke,ee,oe,G,Ae,ne,X,We,Ne,ie,E,ae,ze,Fe,Y,re,Xe,et,tt,de,fe,ge],styles:["ion-card[_ngcontent-%COMP%]{cursor:auto}.vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;justify-content:center}.horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-right:5px;padding-left:5px}ion-item.app-select[_ngcontent-%COMP%]{--padding-start: 0 !important;--padding-end: 0rem}.bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-light)}.dj[_ngcontent-%COMP%]{padding-left:.5rem;margin-top:-1rem;margin-bottom:.5rem}.del[_ngcontent-%COMP%]{margin-top:10px;max-width:50px}.vcenter[_ngcontent-%COMP%]{align-self:center}ion-input[_ngcontent-%COMP%]{color:var(--ion-color-dark)}ion-item[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px}app-emails[_ngcontent-%COMP%]{width:100%}app-music-location[_ngcontent-%COMP%]{width:100%}"]});var ot=j;export{ot as MusicItemPage};
