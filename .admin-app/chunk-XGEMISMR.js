import{m as p,p as q,q as G,x as H}from"./chunk-CXIDEVKY.js";import{$ as O,Aa as k,Bc as L,Ca as I,Ea as D,Fa as y,G as a,Ga as M,I as u,Ic as j,O as f,Oa as S,Ra as s,S as x,Sb as E,Xa as N,Z as w,_ as b,aa as o,ba as r,ca as l,da as P,fc as R,ia as T,ka as v,lc as B,ma as c,mc as A,ob as z,rb as V,s as h,sc as F,t as C,yb as W,za as _}from"./chunk-GPCT4GNB.js";function Q(g,i){if(g&1){let e=T();r(0,"ion-datetime",8),M("ngModelChange",function(n){h(e);let d=c();return y(d.startTime,n)||(d.startTime=n),C(n)}),v("ionChange",function(){h(e);let n=c();return C(n.startChange())}),l()}if(g&2){let e=c();o("min",e.minTime())("max",e.maxTime())("showDefaultButtons",!0),D("ngModel",e.startTime),o("id","datetime"+e.id())}}function U(g,i){if(g&1&&(r(0,"ion-select-option",7),_(1),l()),g&2){let e=i.$implicit;o("value",e.value),a(),k(e.title)}}var J=[{title:"1 hour",value:60},{title:"15 mins",value:15},{title:"30 mins",value:30},{title:"45 mins",value:45},{title:"1.5 hours",value:90},{title:"2 hours",value:120},{title:"2.5 hours",value:150},{title:"3 hours",value:180},{title:"3.5 hours",value:210},{title:"4 hours",value:240},{title:"4.5 hours",value:270},{title:"5 hours",value:300},{title:"5.5 hours",value:330},{title:"6 hours",value:360},{title:"All Day",value:1440}],X=[{title:"6.5 hours",value:390},{title:"7 hours",value:420},{title:"7.5 hours",value:450},{title:"8 hours",value:480},{title:"8.5 hours",value:510},{title:"9 hours",value:540},{title:"9.5 hours",value:570},{title:"10 hours",value:600},{title:"10.5 hours",value:630},{title:"11 hours",value:660},{title:"11.5 hours",value:690},{title:"12 hours",value:720}],m=class m{constructor(){this.id=s("");this.minTime=s("");this.maxTime=s("");this.startTime="";this.endTime="";this.size=s("");this.label=s("When");this.allDay=!1;this.allDayChanged=new u;this.occurrenceChange=new u;this.startChanged=new u;this.endChanged=new u;this.day="";this.eventDuration=0;this.longDurations=s(!1);this.durations=S(()=>this.longDurations()?[...J,...X]:[...J])}allDayChange(){console.log("all day changed",this.allDay),this.allDayChanged.emit(this.allDay)}ngAfterViewInit(){this.startTime.endsWith("00:00:00")&&this.endTime.endsWith("23:59:59")&&(this.allDay=!0);let i=p(this.startTime),e=p(this.endTime);this.eventDuration=Math.abs(e-i)/6e4,this.eventDuration>1439&&(this.eventDuration=1440),this.durations().find(n=>n.value===this.eventDuration)||this.durations().push({title:`${this.eventDuration} mins`,value:this.eventDuration}),this.setDay()}startChange(){this.startChanged.emit(this.startTime),this.setDuration(),this.setDay()}endChange(){this.endChanged.emit(this.endTime)}setDuration(){this.eventDuration===1440?(this.allDay=!0,this.allDayChanged.emit(this.allDay)):this.allDay=!1,this.endTime=G(q(p(this.startTime),this.eventDuration)),this.endChanged.emit(this.endTime),this.setDay()}setDay(){let i=new Date(this.startTime);this.day=H[i.getDay()]}};m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=f({type:m,selectors:[["app-date-range"]],inputs:{id:[1,"id"],minTime:[1,"minTime"],maxTime:[1,"maxTime"],startTime:"startTime",endTime:"endTime",size:[1,"size"],label:[1,"label"],allDay:"allDay",longDurations:[1,"longDurations"]},outputs:{allDayChanged:"allDayChanged",occurrenceChange:"occurrenceChange",startChanged:"startChanged",endChanged:"endChanged"},decls:11,vars:7,consts:[[1,"l2"],[1,"vertical",3,"ngClass"],["lines","none",1,"wide-enough"],[3,"datetime"],[3,"keepContentsMounted"],["lines","none",1,"duration"],["labelPlacement","floating","interface","popover","placeholder","Duration",1,"app-select-small",3,"ionChange","ngModelChange","value","ngModel"],[3,"value"],["minuteValues","0,15,30,45",3,"ngModelChange","ionChange","min","max","showDefaultButtons","ngModel","id"]],template:function(e,t){e&1&&(r(0,"ion-label",0),_(1),l(),r(2,"div",1)(3,"ion-item",2),P(4,"ion-datetime-button",3),l(),r(5,"ion-modal",4),x(6,Q,1,5,"ng-template"),l(),r(7,"ion-item",5)(8,"ion-select",6),v("ionChange",function(){return t.setDuration()}),M("ngModelChange",function(d){return y(t.eventDuration,d)||(t.eventDuration=d),d}),b(9,U,2,2,"ion-select-option",7,w),l()()()),e&2&&(a(),I("",t.label()," ",t.day),a(),o("ngClass",t.size()),a(2),o("datetime","datetime"+t.id()),a(),o("keepContentsMounted",!0),a(3),o("value",t.eventDuration),D("ngModel",t.eventDuration),a(),O(t.durations()))},dependencies:[E,R,W,z,V,A,N,B,L,j,F],styles:['.vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;justify-content:center;padding:0}ion-label.lbl[_ngcontent-%COMP%]{min-width:50px;text-align:right;padding-right:5px}ion-label.l2[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-dark)}ion-label.day[_ngcontent-%COMP%]{min-width:50px;padding-right:5px;font-size:13px}.duration[_ngcontent-%COMP%]{margin-left:0;padding-left:0;padding-right:0;margin-right:0}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}.day[_ngcontent-%COMP%]{opacity:.5;text-align:right}ion-datetime-button[_ngcontent-%COMP%]{justify-content:left}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:#eee;border-radius:2px}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#999}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:5px;top:3px;width:4px;height:8px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:25px;margin-right:15px;margin-bottom:8px!important;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:13px;min-width:70px}ion-datetime-button[_ngcontent-%COMP%]::part(native){margin-top:0;margin-bottom:5px;padding-top:8px;padding-bottom:8px;min-width:120px}ion-select[_ngcontent-%COMP%]{--padding-start: 0px;width:150px}@media (min-width: 390px){ion-select[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0;margin-right:0}}@media (min-width: 440px){.wide-enough[_ngcontent-%COMP%]{min-width:280px}}@media (min-width: 640px){.vertical[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 800px){.wide[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{min-width:300px}.wide[_ngcontent-%COMP%]   ion-label.lbl[_ngcontent-%COMP%]{min-width:unset}.wide[_ngcontent-%COMP%]   ion-label.day[_ngcontent-%COMP%]{min-width:unset;padding-right:5px}.wide[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]::part(native){min-width:unset}}']});var K=m;export{K as a};
