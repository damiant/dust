function g(s){let c=!1,t=[],e="",f=0,l={},u=!0,r=[];for(let n of s)c?n!=='"'&&(e+=n):n==","?(u?r.push(e):l[r[f]]=e,f++,e=""):n==`
`?(e&&(e=e.trim()),u?(r.push(e),u=!1):(l[r[f]]=e,t.push(l)),e="",l={},f=0):n!=='"'&&(e+=n),n=='"'&&(c=!c);return(e||Object.keys(l).length>0)&&(e&&(e=e.trim()),!u&&r.length>f&&(l[r[f]]=e),!u&&Object.keys(l).length>0&&t.push(l)),t}function h(s,c,t){if(!c||!c.length)return;let e=t!=null&&t.stripQuotes?",":'","',f=Object.keys(c[0]),l=t!=null&&t.hideHeaders?"":a(f.join(e),t==null?void 0:t.stripQuotes);for(let n of c)l+=a(f.map(d=>{let i=n[d]===null||n[d]===void 0?"":n[d];return i=i instanceof Date?i.toLocaleString():i.toString(),i=o(i),i=i.replace(/\r/g,"\\r"),i=i.replace(/\n/g,"\\n"),i=i.replace(/"/g,'""'),`${i}`}).join(e),t==null?void 0:t.stripQuotes);let u=new Blob([l],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(r.download!==void 0){let n=URL.createObjectURL(u);r.setAttribute("href",n),r.setAttribute("download",s),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}function o(s){return s?s.replace(/\u00a0/g,""):""}function a(s,c){return c?`${s}
`:`"${s}"
`}export{g as a,h as b};
