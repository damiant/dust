import{a as U}from"./chunk-ZQPXAXXB.js";import"./chunk-QTBNLBDF.js";import{a as ve}from"./chunk-SDUDICK4.js";import"./chunk-FMJXCHDZ.js";import{a as ue}from"./chunk-S6IHJUHU.js";import"./chunk-LADCEZG6.js";import"./chunk-5Z4O26VQ.js";import"./chunk-FJQ4E5GO.js";import"./chunk-7FPDBCWT.js";import"./chunk-JYXYGJZQ.js";import"./chunk-HC6MZPB3.js";import"./chunk-YMI2B6JE.js";import"./chunk-YRQXWVV7.js";import"./chunk-NPRM7GGH.js";import"./chunk-52VTL4OE.js";import"./chunk-VBU7NMPV.js";import"./chunk-2GEO6OXL.js";import"./chunk-MCRJI3T3.js";import"./chunk-74YXDZAV.js";import"./chunk-YYXGO6RB.js";import"./chunk-MM5QLNJM.js";import"./chunk-3573TPBU.js";import"./chunk-2EOHHFOF.js";import"./chunk-JXIEZMHN.js";import{L as fe,R as he,a as ge}from"./chunk-OAPJ7RFL.js";import{y as E}from"./chunk-KCTXO3XO.js";import{$ as C,A as d,Aa as o,B as c,Ba as u,Ca as S,Fa as y,Ga as _,Ha as b,I as R,Kb as ne,P as k,Pa as q,Pb as ae,Qa as Y,Qb as oe,S as l,T as B,Ta as J,W as T,X as P,Xa as K,Xb as re,bc as le,da as g,ga as w,gb as $,ha as z,ia as I,ja as x,jc as se,ka as n,la as a,lb as ee,ma as h,mb as te,mc as me,nc as pe,oa as H,pa as M,qa as f,rb as ie,rc as de,w as O,wa as Z,xa as Q,ya as X,zc as ce}from"./chunk-PNZTRGP7.js";import"./chunk-35XJAIHY.js";import"./chunk-7KGURMOZ.js";import"./chunk-W5R2B4OG.js";import"./chunk-SDKY465T.js";import"./chunk-45ASMX5N.js";import"./chunk-KM5AR3OJ.js";import"./chunk-XCRBEL2Y.js";import"./chunk-4U6PRYVA.js";import"./chunk-HJX2WMCX.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{h as v}from"./chunk-LNJ3S2LQ.js";function ye(r,i){return`
<style>
@font-face {
    font-family: 'Gelion Regular';
    font-style: normal;
    font-weight: normal;
    src: local('Gelion Regular'), url('/assets/fonts/gelion-regular.woff') format('woff');
}
@font-face {
    font-family: 'Grotesk Bold';
    font-style: normal;
    font-weight: normal;
    src: local('Grotesk Bold'), url('/assets/fonts/grotesk-bold.woff') format('woff');
}

@font-face {
    font-family: 'Nunito';
    font-style: normal;
    font-weight: normal;
    src: local('Nunito'), url('/assets/fonts/nunito-extrabold.woff') format('woff');
}


p, span {
    font-family: 'Gelion Regular';
    margin: 0;
    font-size: 0.8rem;
}

.desc {
    display: ${i>0?"-webkit-box":"none"};
    -webkit-line-clamp: ${i};
    line-clamp: ${i};
    -webkit-box-orient: vertical; 
    overflow: hidden;
    font-size: 0.7rem;
}

.time {
    padding-top: 0rem;    
    font-size: 0.8rem;
}


.event-header {
    display: flex;
    align-items: center;
    padding-bottom: 0.5rem;
}

.camp-header {
    display: flex;    
    width: 100%;
    justify-content: space-between;
    align-items: flex-end;
    padding-bottom: 0.5rem;
}
.title {
    page-break-before: always;
    margin-top: 50px;
}

.break {
      page-break-after: always;
}
.after-break {
    height: 50px;
    border-bottom: 1px solid grey;
}

.camp {
    color: #F61067; 
}

.event {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    page-break-inside: avoid;
}

span {
    margin-top: 1rem;
    font-weight: bold;
}

h1, h2 {
    font-family: 'Nunito';
    margin: 0;
}

header, footer {
    text-align: center;
}

h3 {
    font-family: 'Grotesk Bold';    
    font-size: 0.8rem;
    margin: 0;
}

img {
    height: 50px;
    width: 50px;
    object-fit: cover;
    margin-right: 0.5rem;
    border-radius: 0.5rem;
}

img.camp {
    float: left;
}

.container {
   max-width: 1200px;
   margin-left: 0rem;
   margin-right: 0rem;
}

.columns-container {
    columns: ${r>4?"110":"150"}px ${r};
    column-gap: 1.5rem;
    column-rule 1px solid #f1f1f1;
    padding: 1rem;

    > * + * {
        margin-top: 1rem;
    }
}

@page {
    margin-top: 1cm;
    margin-bottom: 1cm;
    @top-center {
        content: element(pageHeader);
    }

    @bottom-center {
        content: element(pageFooter);
    }
}

.page-break {
    page-break-before: always;
}

#pageHeader{
    position: running(pageHeader);
}

#pageFooter{
    position: running(pageFooter);
}
</style>
`}var Ce=(r,i)=>i.id;function we(r,i){if(r&1&&(n(0,"h2",0),o(1),a()),r&2){let e=f().$implicit;l(),u(e.heading)}}function Ie(r,i){if(r&1&&h(0,"img",3),r&2){let e=f().$implicit;g("src",e.image,k)}}function xe(r,i){if(r&1&&(C(0,we,2,1,"h2",0),n(1,"div",1)(2,"div",2),C(3,Ie,1,1,"img",3),n(4,"div")(5,"h3"),o(6),a(),n(7,"p",4),o(8),a(),n(9,"p",5),o(10),a()()(),n(11,"p",6),o(12),a()()),r&2){let e=i.$implicit,t=f();w(e.heading?0:-1),l(3),w(e.image&&!t.hideImages()?3:-1),l(3),u(e.title),l(2),S(" ",e.timeString," "),l(2),u(e.camp),l(2),u(e.description)}}var D=class D{constructor(){this.events=[];this.day=R("day");this.excluded=R("");this.hideImages=T(!1);this.pbOnDay=T(!0);this.done=q(()=>console.log(this.hideImages()));this.eventService=O(U);this.api=O(E);Y(()=>{let i=this.excluded();this.ngOnInit()})}ngOnInit(){return v(this,null,function*(){this.events=yield this.eventService.getPrintableEvents(yield this.api.events({cached:!0}),this.day(),this.excluded())})}};D.\u0275fac=function(e){return new(e||D)},D.\u0275cmp=P({type:D,selectors:[["app-print-events"]],inputs:{day:[1,"day"],excluded:[1,"excluded"],hideImages:[1,"hideImages"],pbOnDay:[1,"pbOnDay"]},outputs:{hideImages:"hideImagesChange",pbOnDay:"pbOnDayChange"},decls:2,vars:0,consts:[[1,"title"],[1,"event"],[1,"event-header"],[3,"src"],[1,"time"],[1,"camp"],[1,"desc"]],template:function(e,t){e&1&&I(0,xe,13,6,null,null,Ce),e&2&&x(t.events)},encapsulation:2});var L=D;var Pe=(r,i)=>i.id;function Se(r,i){if(r&1&&h(0,"img",2),r&2){let e=f().$implicit;g("src",e.imageUrl,k)}}function Ee(r,i){if(r&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),o(3),a()(),n(4,"p"),C(5,Se,1,1,"img",2),o(6),a()()),r&2){let e=i.$implicit,t=f();l(3),u(e.name),l(2),w(e.imageUrl&&!t.hideImages()?5:-1),l(),S(" ",e.description," ")}}var V=class V{constructor(i){this.api=i;this.camps=[];this.hideImages=T(!1)}ngOnInit(){return v(this,null,function*(){this.camps=yield this.api.camps({cached:!1}),this.camps.map(i=>{i.imageUrl&&(i.imageUrl=this.api.imageURL(i.imageUrl))})})}};V.\u0275fac=function(e){return new(e||V)(B(E))},V.\u0275cmp=P({type:V,selectors:[["app-print-camps"]],inputs:{hideImages:[1,"hideImages"]},outputs:{hideImages:"hideImagesChange"},decls:2,vars:0,consts:[[1,"event"],[1,"camp-header"],[1,"camp",3,"src"]],template:function(e,t){e&1&&I(0,Ee,7,3,"div",0,Pe),e&2&&x(t.camps)},encapsulation:2});var A=V;var Te=(r,i)=>i.id;function Me(r,i){if(r&1&&h(0,"img",2),r&2){let e=f().$implicit;g("src",e.imageUrl,k)}}function Oe(r,i){if(r&1&&(n(0,"div",0)(1,"div",1)(2,"h3"),o(3),a()(),n(4,"p"),C(5,Me,1,1,"img",2),o(6),a()()),r&2){let e=i.$implicit,t=f();l(3),u(e.name),l(2),w(e.imageUrl&&!t.hideImages()?5:-1),l(),S(" ",e.description," ")}}var F=class F{constructor(i){this.api=i;this.art=[];this.hideImages=T(!1)}ngOnInit(){return v(this,null,function*(){this.art=yield this.api.art({cached:!1}),this.art.map(i=>{i.imageUrl&&(i.imageUrl=this.api.imageURL(i.imageUrl))})})}};F.\u0275fac=function(e){return new(e||F)(B(E))},F.\u0275cmp=P({type:F,selectors:[["app-print-art"]],inputs:{hideImages:[1,"hideImages"]},outputs:{hideImages:"hideImagesChange"},decls:2,vars:0,consts:[[1,"event"],[1,"camp-header"],[1,"camp",3,"src"]],template:function(e,t){e&1&&I(0,Oe,7,3,"div",0,Te),e&2&&x(t.art)},encapsulation:2});var N=F;var ke=["frame"];function De(r,i){if(r&1&&(n(0,"ion-select-option",18),o(1),a()),r&2){let e=i.$implicit;g("value",e),l(),u(e)}}function Ve(r,i){r&1&&h(0,"app-spinner")}function Fe(r,i){if(r&1){let e=H();n(0,"header",27)(1,"h1"),o(2),a(),n(3,"h2"),o(4),a()(),n(5,"div",23)(6,"div",24)(7,"app-print-events",28),b("pbOnDayChange",function(m){d(e);let p=f();return _(p.pbOnDay,m)||(p.pbOnDay=m),c(m)})("hideImagesChange",function(m){d(e);let p=f();return _(p.hideImages,m)||(p.hideImages=m),c(m)}),a()()()}if(r&2){let e=i.$implicit,t=f();g("ngClass",t.pbOnDay?"page-break":""),l(2),u(t.title),l(2),S("",e," Events"),l(3),y("pbOnDay",t.pbOnDay),g("excluded",t.excluded),y("hideImages",t.hideImages),g("day",e)}}var W=class W{constructor(){this.title="";this.busy=!0;this.diffTimeZone="";this.showing="all";this.imageUrl="";this.pbOnDay=!0;this.hideImages=!1;this.excludedTypes=[];this.excluded="";this.eventTypes=[];this.columns="3";this.lines="6";this.days=[];this.eventService=O(U);this.api=O(E);he({add:ge,printOutline:fe})}ngOnInit(){return v(this,null,function*(){var e;this.title=this.api.festivalTitle(),this.diffTimeZone=this.api.currentTimeZone()==this.api.festivalTimeZone()?"":this.api.festivalTimeZone(),yield this.api.setFestivalByVanity(this.vanity),this.imageUrl=(e=this.api.imageURL(this.api.festivalImage()))!=null?e:"";let i=yield this.api.getFestival(this.api.festivalId,{cached:!0});this.eventTypes=i.event_types?i.event_types.split(`
`):ve})}print(){this.iFrame.nativeElement.contentWindow.focus(),this.iFrame.nativeElement.contentWindow.print()}ionViewDidEnter(){return v(this,null,function*(){yield this.refresh(),setTimeout(()=>{this.busy=!1,this.copyToIFrame()},4e3)})}update(){this.excluded=this.excludedTypes.join(","),this.busy=!0,setTimeout(()=>{this.busy=!1,this.copyToIFrame()},4e3)}copyToIFrame(){let i=document.getElementById("page"),e=this.iFrame.nativeElement.contentDocument;e.open(),e.write(ye(parseInt(this.columns),parseInt(this.lines))),e.write(i==null?void 0:i.innerHTML),e.close()}festivalImage(){return this.api.imageURL(this.api.festivalImage())}refresh(){return v(this,null,function*(){this.days=yield this.eventService.getEventDays(yield this.api.events({cached:!1}))})}};W.\u0275fac=function(e){return new(e||W)},W.\u0275cmp=P({type:W,selectors:[["app-print"]],viewQuery:function(e,t){if(e&1&&Z(ke,5),e&2){let m;Q(m=X())&&(t.iFrame=m.first)}},inputs:{vanity:"vanity"},decls:76,vars:17,consts:[["frame",""],["color","primary"],["slot","start"],["slot","end"],[3,"click"],["labelPlacement","end",3,"ionChange","ngModelChange","ngModel"],[2,"padding","1rem"],["slot","end","label","COLUMNS","aria-label","Columns","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["slot","end","label","MAX LINES","aria-label","Maximum Lines","interface","popover",3,"ionChange","ngModelChange","ngModel","value"],["value","0"],["value","6"],["value","10"],["label","EXCLUDE TYPES","interface","popover","placeholder","Select event types to exclude",2,"max-width","200px",3,"ionChange","ngModelChange","multiple","value","ngModel"],[3,"value"],[3,"fullscreen"],[3,"scrolling","frameBorder"],["id","page",2,"display","none"],["id","pageHeader",1,"page-break"],[1,"container"],[1,"columns-container"],[3,"hideImagesChange","hideImages"],["id","pageFooter"],["id","pageHeader",3,"ngClass"],[3,"pbOnDayChange","hideImagesChange","pbOnDay","excluded","hideImages","day"]],template:function(e,t){if(e&1){let m=H();n(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2),h(3,"ion-back-button"),a(),n(4,"ion-title"),o(5,"Print Preview"),a(),n(6,"ion-buttons",3)(7,"ion-button",4),M("click",function(){return d(m),c(t.print())}),o(8,"Print"),a()()(),n(9,"ion-toolbar",1)(10,"ion-buttons")(11,"ion-button")(12,"ion-checkbox",5),M("ionChange",function(){return d(m),c(t.update())}),b("ngModelChange",function(s){return d(m),_(t.hideImages,s)||(t.hideImages=s),c(s)}),o(13,"Hide Images"),a()(),h(14,"div",6),n(15,"ion-select",7),M("ionChange",function(){return d(m),c(t.update())}),b("ngModelChange",function(s){return d(m),_(t.columns,s)||(t.columns=s),c(s)}),n(16,"ion-select-option",8),o(17,"1"),a(),n(18,"ion-select-option",9),o(19,"2"),a(),n(20,"ion-select-option",10),o(21,"3"),a(),n(22,"ion-select-option",11),o(23,"4"),a(),n(24,"ion-select-option",12),o(25,"5"),a()(),h(26,"div",6),n(27,"ion-select",13),M("ionChange",function(){return d(m),c(t.update())}),b("ngModelChange",function(s){return d(m),_(t.lines,s)||(t.lines=s),c(s)}),n(28,"ion-select-option",14),o(29,"0"),a(),n(30,"ion-select-option",8),o(31,"1"),a(),n(32,"ion-select-option",9),o(33,"2"),a(),n(34,"ion-select-option",10),o(35,"3"),a(),n(36,"ion-select-option",11),o(37,"4"),a(),n(38,"ion-select-option",12),o(39,"5"),a(),n(40,"ion-select-option",15),o(41,"6"),a(),n(42,"ion-select-option",16),o(43,"10"),a()(),h(44,"div",6),n(45,"ion-select",17),M("ionChange",function(){return d(m),c(t.update())}),b("ngModelChange",function(s){return d(m),_(t.excludedTypes,s)||(t.excludedTypes=s),c(s)}),I(46,De,2,2,"ion-select-option",18,z),a(),n(48,"ion-button")(49,"ion-checkbox",5),M("ionChange",function(){return d(m),c(t.update())}),b("ngModelChange",function(s){return d(m),_(t.pbOnDay,s)||(t.pbOnDay=s),c(s)}),o(50,"Page Break on Day"),a()()()()(),n(51,"ion-content",19),C(52,Ve,1,0,"app-spinner"),h(53,"iframe",20,0),n(55,"div",21),I(56,Fe,8,7,null,null,z),n(58,"header",22)(59,"h1"),o(60),a(),n(61,"h2"),o(62,"Theme Camps"),a()(),n(63,"div",23)(64,"div",24)(65,"app-print-camps",25),b("hideImagesChange",function(s){return d(m),_(t.hideImages,s)||(t.hideImages=s),c(s)}),a()()(),n(66,"header",22)(67,"h1"),o(68),a(),n(69,"h2"),o(70,"Art"),a()(),n(71,"div",23)(72,"div",24)(73,"app-print-art",25),b("hideImagesChange",function(s){return d(m),_(t.hideImages,s)||(t.hideImages=s),c(s)}),a()()(),n(74,"footer",26),o(75,"-"),a()()()}e&2&&(l(12),y("ngModel",t.hideImages),l(3),y("ngModel",t.columns),g("value",t.columns),l(12),y("ngModel",t.lines),g("value",t.lines),l(18),g("multiple",!0)("value",t.excludedTypes),y("ngModel",t.excludedTypes),l(),x(t.eventTypes),l(3),y("ngModel",t.pbOnDay),l(2),g("fullscreen",!0),l(),w(t.busy?52:-1),l(),g("scrolling","no")("frameBorder",0),l(3),x(t.days),l(4),u(t.title),l(5),y("hideImages",t.hideImages),l(3),u(t.title),l(5),y("hideImages",t.hideImages))},dependencies:[de,ue,K,J,ie,ee,te,$,le,pe,oe,ne,me,ae,re,L,A,N,ce,se],styles:["iframe[_ngcontent-%COMP%]{height:100%;width:100%}ion-checkbox[_ngcontent-%COMP%]{font-family:Gelion Regular;font-size:medium}ion-select[_ngcontent-%COMP%]{font-size:medium}ion-select[_ngcontent-%COMP%]::part(icon){color:#fff!important}"]});var _e=W;export{_e as PrintPage};
